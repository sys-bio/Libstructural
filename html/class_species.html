<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: Species Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Species Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Species.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} An SBML <em>species</em> &ndash; a pool of entities.</p>
<p>A <em>species</em> in SBML refers to a pool of entities that (a) are considered indistinguishable from each other for the purposes of the model, (b) participate in reactions, and (c) are located in a specific <em>compartment</em>. The SBML <a class="el" href="class_species.html">Species</a> object class is intended to represent these pools.</p>
<p>As with other major constructs in SBML, <a class="el" href="class_species.html">Species</a> has a mandatory attribute, "id", used to give the species type an identifier in the model. The identifier must be a text string conforming to the identifer syntax permitted in SBML. <a class="el" href="class_species.html">Species</a> also has an optional "name" attribute, of type <code>string</code>. The "id" and "name" must be used according to the guidelines described in the SBML specifications.</p>
<p>The required attribute "compartment" is used to identify the compartment in which the species is located. The attribute's value must be the identifier of an existing <a class="el" href="class_compartment.html">Compartment</a> object. It is important to note that there is no default value for the "compartment" attribute on <a class="el" href="class_species.html">Species</a>; every species in an SBML model must be assigned a compartment <em>explicitly</em>. (This also implies that every model with one or more <a class="el" href="class_species.html">Species</a> objects must define at least one <a class="el" href="class_compartment.html">Compartment</a> object.)</p>
<h1><a class="anchor" id="species-amounts"></a>
The initial amount and concentration of a species</h1>
<p>The optional attributes "initialAmount" and "initialConcentration", both having a data type of <code>double</code>, can be used to set the <em>initial</em> quantity of the species in the compartment where the species is located. These attributes are mutually exclusive; i.e., <em>only one</em> can have a value on any given instance of a <a class="el" href="class_species.html">Species</a> object. Missing "initialAmount" and "initialConcentration" values implies that their values either are unknown, or to be obtained from an external source, or determined by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> or other SBML construct elsewhere in the model.</p>
<p>A species' initial quantity in SBML is set by the "initialAmount" or "initialConcentration" attribute exactly once. If the "constant" attribute is <code>true</code>, then the value of the species' quantity is fixed and cannot be changed except by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a>. These methods differ in that the "initialAmount" and "initialConcentration" attributes can only be used to set the species quantity to a literal floating-point number, whereas the use of an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> object allows the value to be set using an arbitrary mathematical expression (which, thanks to MathML's expressiveness, may evaluate to a rational number). If the species' "constant" attribute is <code>false</code>, the species' quantity value may be overridden by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> or changed by <a class="el" href="class_assignment_rule.html">AssignmentRule</a> or <a class="el" href="class_algebraic_rule.html">AlgebraicRule</a>, and in addition, for <em>t &gt; 0</em>, it may also be changed by a <a class="el" href="class_rate_rule.html">RateRule</a>, <a class="el" href="class_event.html">Event</a> objects, and as a result of being a reactant or product in one or more <a class="el" href="class_reaction.html">Reaction</a> objects. (However, some constructs are mutually exclusive; see the SBML specifications for the precise details.) It is not an error to define "initialAmount" or "initialConcentration" on a species and also redefine the value using an <a class="el" href="class_initial_assignment.html">InitialAssignment</a>, but the "initialAmount" or "initialConcentration" setting in that case is ignored. The SBML specifications provide additional information about the semantics of assignments, rules and values for simulation time <em>t</em> <img class="formulaInl" alt="$\leq$" src="form_1.png"/> <em>0</em>.</p>
<p>SBML Level&#160;2 additionally stipulates that in cases where a species' compartment has a "spatialDimensions" value of <code>0</code> (zero), the species cannot have a value for "initialConcentration" because the concepts of concentration and density break down when a container has zero dimensions.</p>
<h1><a class="anchor" id="species-units"></a>
The units of a species' amount or concentration</h1>
<p>When the attribute "initialAmount" is set, the unit of measurement associated with the value of "initialAmount" is specified by the <a class="el" href="class_species.html">Species</a> attribute "substanceUnits". When the "initialConcentration" attribute is set, the unit of measurement associated with this concentration value is {<em>unit of amount</em>} divided by {<em>unit of size</em>}, where the {<em>unit of amount</em>} is specified by the <a class="el" href="class_species.html">Species</a> "substanceUnits" attribute, and the {<em>unit of size</em>} is specified by the "units" attribute of the <a class="el" href="class_compartment.html">Compartment</a> object in which the species is located. Note that in either case, a unit of <em>amount</em> is involved and determined by the "substanceUnits" attribute. Note <b>these two attributes alone do not determine the units of the species when the species identifier appears in a mathematical expression</b>; <em>that</em> aspect is determined by the attribute "hasOnlySubstanceUnits" discussed below.</p>
<p>In SBML Level&#160;3, if the "substanceUnits" attribute is not set on a given <a class="el" href="class_species.html">Species</a> object instance, then the unit of <em>amount</em> for that species is inherited from the "substanceUnits" attribute on the enclosing <a class="el" href="class_model.html">Model</a> object instance. If that attribute on <a class="el" href="class_model.html">Model</a> is not set either, then the unit associated with the species' quantity is undefined.</p>
<p>In SBML Level&#160;2, if the "substanceUnits" attribute is not set on a given <a class="el" href="class_species.html">Species</a> object instance, then the unit of <em>amount</em> for that species is taken from the predefined SBML unit identifier <code>"substance"</code>. The value assigned to "substanceUnits" must be chosen from one of the following possibilities: one of the base unit identifiers defined in SBML, the built-in unit identifier <code>"substance"</code>, or the identifier of a new unit defined in the list of unit definitions in the enclosing <a class="el" href="class_model.html">Model</a> object. The chosen units for "substanceUnits" must be be <code>"dimensionless"</code>, <code>"mole"</code>, <code>"item"</code>, <code>"kilogram"</code>, <code>"gram"</code>, or units derived from these.</p>
<p>As noted at the beginning of this section, simply setting "initialAmount" or "initialConcentration" alone does <em>not</em> determine whether a species identifier represents an amount or a concentration when it appears elsewhere in an SBML model. The role of the attribute "hasOnlySubstanceUnits" is to indicate whether the units of the species, when the species identifier appears in mathematical formulas, are intended to be concentration or amount. The attribute takes on a boolean value. In SBML Level&#160;3, the attribute has no default value and must always be set in a model; in SBML Level&#160;2, it has a default value of <code>false</code>.</p>
<p>The <em>units of the species</em> are used in the following ways: </p><ul>
<li>
<p class="startli">When the species' identifier appears in a MathML formula, it represents the species' quantity, and the unit of measurement associated with the quantity is as described above.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The "math" elements of <a class="el" href="class_assignment_rule.html">AssignmentRule</a>, <a class="el" href="class_initial_assignment.html">InitialAssignment</a> and <a class="el" href="class_event_assignment.html">EventAssignment</a> objects referring to this species should all have the same units as the unit of measurement associated with the species quantity.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">In a <a class="el" href="class_rate_rule.html">RateRule</a> object that defines the rate of change of the species' quantity, the unit associated with the rule's "math" element should be equal to the unit of the species' quantity divided by the model-wide unit of <em>time</em>; in other words, {<em>unit of species quantity</em>}/{<em>unit of time</em>}.</p>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="species-constant"></a>
The "constant" and "boundaryCondition" attributes</h1>
<p>The <a class="el" href="class_species.html">Species</a> object class has two boolean attributes named "constant" and "boundaryCondition", used to indicate whether and how the quantity of that species can vary during a simulation. In SBML Level&#160;2 they are optional; in SBML Level&#160;3 they are mandatory. The following table shows how to interpret the combined values of these attributes.</p>
<p>By default, when a species is a product or reactant of one or more reactions, its quantity is determined by those reactions. In SBML, it is possible to indicate that a given species' quantity is <em>not</em> determined by the set of reactions even when that species occurs as a product or reactant; i.e., the species is on the <em>boundary</em> of the reaction system, and its quantity is not determined by the reactions. The boolean attribute "boundaryCondition" can be used to indicate this. A value of <code>false</code> indicates that the species <em>is</em> part of the reaction system. In SBML Level&#160;2, the attribute has a default value of <code>false</code>, while in SBML Level&#160;3, it has no default.</p>
<p>The "constant" attribute indicates whether the species' quantity can be changed at all, regardless of whether by reactions, rules, or constructs other than <a class="el" href="class_initial_assignment.html">InitialAssignment</a>. A value of <code>false</code> indicates that the species' quantity can be changed. (This is also a common value because the purpose of most simulations is precisely to calculate changes in species quantities.) In SBML Level&#160;2, the attribute has a default value of <code>false</code>, while in SBML Level&#160;3, it has no default. Note that the initial quantity of a species can be set by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> irrespective of the value of the "constant" attribute.</p>
<p>In practice, a "boundaryCondition" value of <code>true</code> means a differential equation derived from the reaction definitions should not be generated for the species. However, the species' quantity may still be changed by <a class="el" href="class_assignment_rule.html">AssignmentRule</a>, <a class="el" href="class_rate_rule.html">RateRule</a>, <a class="el" href="class_algebraic_rule.html">AlgebraicRule</a>, <a class="el" href="class_event.html">Event</a>, and <a class="el" href="class_initial_assignment.html">InitialAssignment</a> constructs if its "constant" attribute is <code>false</code>. Conversely, if the species' "constant" attribute is <code>true</code>, then its value cannot be changed by anything except <a class="el" href="class_initial_assignment.html">InitialAssignment</a>.</p>
<p>A species having "boundaryCondition"=<code>false</code> and "constant"=<code>false</code> can appear as a product and/or reactant of one or more reactions in the model. If the species is a reactant or product of a reaction, it must <em>not</em> also appear as the target of any <a class="el" href="class_assignment_rule.html">AssignmentRule</a> or <a class="el" href="class_rate_rule.html">RateRule</a> object in the model. If instead the species has "boundaryCondition"=<code>false</code> and "constant"=<code>true</code>, then it cannot appear as a reactant or product, or as the target of any <a class="el" href="class_assignment_rule.html">AssignmentRule</a>, <a class="el" href="class_rate_rule.html">RateRule</a> or <a class="el" href="class_event_assignment.html">EventAssignment</a> object in the model.</p>
<p>Finally, it is worth clarifying that while the constant and boundaryCondition attributes restrict whether and how the species amount changes, the same is not true of a species' concentration. In SBML, the concentration of a species is a quantity that depends on the size of the compartment in which it is located. A compartment's size may change, and therefore, so can the concentration of a species even if the amount of the species remains unchanged. A species' concentration may therefore vary even if the <a class="el" href="class_species.html">Species</a> object's constant attribute is set to <code>true</code> in a model.</p>
<h1><a class="anchor" id="species-l2-convfactor"></a>
The conversionFactor attribute in SBML Level 3</h1>
<p>In SBML Level&#160;3, <a class="el" href="class_species.html">Species</a> has an additional optional attribute, "conversionFactor", that defines a conversion factor that applies to a particular species. The value must be the identifier of a <a class="el" href="class_parameter.html">Parameter</a> object instance defined in the model. That <a class="el" href="class_parameter.html">Parameter</a> object must be a constant, meaning its "constant" attribute must be set to <code>true</code>. If a given <a class="el" href="class_species.html">Species</a> object definition defines a value for its "conversionFactor" attribute, it takes precedence over any factor defined by the <a class="el" href="class_model.html">Model</a> object's "conversionFactor" attribute.</p>
<p>The unit of measurement associated with a species' quantity can be different from the unit of extent of reactions in the model. SBML Level&#160;3 avoids implicit unit conversions by providing an explicit way to indicate any unit conversion that might be required. The use of a conversion factor in computing the effects of reactions on a species' quantity is explained in detail in the SBML Level&#160;3 specification document. Because the value of the "conversionFactor" attribute is the identifier of a <a class="el" href="class_parameter.html">Parameter</a> object, and because parameters can have units attached to them, the transformation from reaction extent units to species units can be completely specified using this approach.</p>
<p>Note that the unit conversion factor is <b>only applied when calculating the effect of a reaction on a species</b>. It is not used in any rules or other SBML constructs that affect the species, and it is also not used when the value of the species is referenced in a mathematical expression.</p>
<h1><a class="anchor" id="species-l2-type"></a>
The speciesType attribute in SBML Level 2 Versions 2–4</h1>
<p>In SBML Level&#160;2 Versions&#160;2&ndash;4, each species in a model may optionally be designated as belonging to a particular species type. The optional attribute "speciesType" is used to identify the species type of the chemical entities that make up the pool represented by the <a class="el" href="class_species.html">Species</a> objects. The attribute's value must be the identifier of an existing <a class="el" href="class_species_type.html">SpeciesType</a> object in the model. If the "speciesType" attribute is not present on a particular species definition, it means the pool contains chemical entities of a type unique to that pool; in effect, a virtual species type is assumed for that species, and no other species can belong to that species type. The value of "speciesType" attributes on species have no effect on the numerical interpretation of a model; simulators and other numerical analysis software may ignore "speciesType" attributes.</p>
<p>There can be only one species of a given species type in any given compartment of a model. More specifically, for all <a class="el" href="class_species.html">Species</a> objects having a value for the "speciesType" attribute, the pair </p><center> ("speciesType" attribute value, "compartment" attribute value) </center><p>must be unique across the set of all <a class="el" href="class_species.html">Species</a> object in a model.</p>
<h1><a class="anchor" id="species-other"></a>
The spatialSizeUnits attribute in SBML Level 2 Versions 1–2</h1>
<p>In versions of SBML Level&#160;2 before Version&#160;3, the class <a class="el" href="class_species.html">Species</a> included an attribute called "spatialSizeUnits", which allowed explicitly setting the units of size for initial concentration. LibSBML retains this attribute for compatibility with older definitions of Level&#160;2, but its use is strongly discouraged because many software tools do no properly interpret this unit declaration and it is incompatible with all SBML specifications after Level&#160;2 Version&#160;3.</p>
<h1><a class="anchor" id="species-math"></a>
Additional considerations for interpreting the numerical value of a species</h1>
<p><a class="el" href="class_species.html">Species</a> are unique in SBML in that they have a kind of duality: a species identifier may stand for either substance amount (meaning, a count of the number of individual entities) or a concentration or density (meaning, amount divided by a compartment size). The previous sections explain the meaning of a species identifier when it is referenced in a mathematical formula or in rules or other SBML constructs; however, it remains to specify what happens to a species when the compartment in which it is located changes in size.</p>
<p>When a species definition has a "hasOnlySubstanceUnits" attribute value of <code>false</code> and the size of the compartment in which the species is located changes, the default in SBML is to assume that it is the concentration that must be updated to account for the size change. This follows from the principle that, all other things held constant, if a compartment simply changes in size, the size change does not in itself cause an increase or decrease in the number of entities of any species in that compartment. In a sense, the default is that the <em>amount</em> of a species is preserved across compartment size changes. Upon such size changes, the value of the concentration or density must be recalculated from the simple relationship <em>concentration = amount / size</em> if the value of the concentration is needed (for example, if the species identifier appears in a mathematical formula or is otherwise referenced in an SBML construct). There is one exception: if the species' quantity is determined by an <a class="el" href="class_assignment_rule.html">AssignmentRule</a>, <a class="el" href="class_rate_rule.html">RateRule</a>, <a class="el" href="class_algebraic_rule.html">AlgebraicRule</a>, or an <a class="el" href="class_event_assignment.html">EventAssignment</a> and the species has a "hasOnlySubstanceUnits" attribute value of <code>false</code>, it means that the <em>concentration</em> is assigned by the rule or event; in that case, the <em>amount</em> must be calculated when the compartment size changes. (Events also require additional care in this situation, because an event with multiple assignments could conceivably reassign both a species quantity and a compartment size simultaneously. Please refer to the SBML specifications for the details.)</p>
<p>Note that the above only matters if a species has a "hasOnlySubstanceUnits" attribute value of <code>false</code>, meaning that the species identifier refers to a concentration wherever the identifier appears in a mathematical formula. If instead the attribute's value is <code>true</code>, then the identifier of the species <em>always</em> stands for an amount wherever it appears in a mathematical formula or is referenced by an SBML construct. In that case, there is never a question about whether an assignment or event is meant to affect the amount or concentration: it is always the amount.</p>
<p>A particularly confusing situation can occur when the species has "constant" attribute value of <code>true</code> in combination with a "hasOnlySubstanceUnits" attribute value of <code>false</code>. Suppose this species is given a value for "initialConcentration". Does a "constant" value of <code>true</code> mean that the concentration is held constant if the compartment size changes? No; it is still the amount that is kept constant across a compartment size change. The fact that the species was initialized using a concentration value is irrelevant. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_species_8h.html">Species.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
