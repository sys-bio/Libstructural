<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: Event Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Event Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Event.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} A discontinuous SBML <em>event</em>.</p>
<p>An SBML <a class="el" href="class_event.html">Event</a> object defines when the event can occur, the variables that are affected by it, how the variables are affected, and the event's relationship to other events. The effect of the event can optionally be delayed after the occurrence of the condition which invokes it.</p>
<p>The operation of <a class="el" href="class_event.html">Event</a> is divided into two phases (even when the event is not delayed): one when the event is <em>triggered</em>, and the other when the event is <em>executed</em>. <a class="el" href="class_trigger.html">Trigger</a> objects define the conditions for triggering an event, <a class="el" href="class_delay.html">Delay</a> objects define when the event is actually executed, <a class="el" href="class_event_assignment.html">EventAssignment</a> objects define the effects of executing the event, and (in SBML Level&#160;3) <a class="el" href="class_priority.html">Priority</a> objects influence the order of <a class="el" href="class_event_assignment.html">EventAssignment</a> performance in cases of simultaneous events. Please consult the descriptions of <a class="el" href="class_trigger.html">Trigger</a>, <a class="el" href="class_delay.html">Delay</a>, <a class="el" href="class_event_assignment.html">EventAssignment</a> and <a class="el" href="class_priority.html">Priority</a> for more information.</p>
<h1><a class="anchor" id="event-version-diffs"></a>
SBML Level/Version differences</h1>
<h2><a class="anchor" id="sbml-l2"></a>
SBML Level 2</h2>
<p>In SBML Level&#160;2 versions before Version&#160;4, the semantics of <a class="el" href="class_event.html">Event</a> time delays were defined such that the expressions in the event's assignments were always evaluated at the time the event was <em>triggered</em>. This definition made it difficult to define an event whose assignment formulas were meant to be evaluated at the time the event was <em>executed</em> (i.e., after the time period defined by the value of the <a class="el" href="class_delay.html">Delay</a> element, or after any other simultaneous event may have been <em>executed</em> and changed the model state). In SBML Level&#160;2 Version&#160;4 and in Level&#160;3, the attribute "useValuesFromTriggerTime" on <a class="el" href="class_event.html">Event</a> was added to allow a model to indicate the time at which the event's assignments are to be calculated, whether at the moment the event is triggered (if the value of the attribute is <code>true</code>), or at the moment of execution (if "useValuesFromTriggerTime"=<code>false</code>). If the event has a delay, the "useValuesFromTriggerTime" is likely to make a significant difference in the values used in the assignment, but the possibility of simultaneous events mean that even zero-delay events can have different results depending on the value of this attribute.</p>
<p>The definition of <a class="el" href="class_event.html">Event</a> in SBML Level&#160;2 Versions 1 and 2 includes an additional attribute called "timeUnits", which allowed the time units of the <a class="el" href="class_delay.html">Delay</a> to be set explicitly. Later Versions of SBML Level&#160;2 as well as SBML Level&#160;3 do not define this attribute. LibSBML supports this attribute for compatibility with previous versions of SBML Level&#160;2; however, if a model in SBML Level&#160;3 or Level&#160;2 Versions&#160;3&ndash;4 format sets the attribute, the consistency-checking method SBMLDocument::checkConsistency() will report an error.</p>
<p>The attribute "useValuesFromTriggerTime" was introduced in SBML Level&#160;2 Version&#160;4. Models defined in prior Versions of SBML Level&#160;2 cannot use this attribute, and SBMLDocument::checkConsistency() will report an error if they do.</p>
<h2><a class="anchor" id="sbml-l3"></a>
SBML Level 3</h2>
<p>SBML Level 3 introduces several changes to the structure and components of Events compared to SBML Level&#160;2. These changes fall into two main categories: changes to what is optional or required, and additions of new attributes and elements. </p><ul>
<li>
The attribute "useValuesFromTriggerTime" on <a class="el" href="class_event.html">Event</a> is mandatory (it was optional in Level&#160;2 and had a default value of <code>true</code>); </li>
<li>
<a class="el" href="class_event.html">Event</a>'s "listOfEventAssignments" element (of class <a class="el" href="class_list_of_event_assignments.html">ListOfEventAssignments</a>) is optional (it was mandatory in Level&#160;2); </li>
<li>
<a class="el" href="class_event.html">Event</a>'s "priority" element (of class <a class="el" href="class_priority.html">Priority</a>) is new in Level&#160;3; and </li>
<li>
The <a class="el" href="class_trigger.html">Trigger</a> object gains new mandatory attributes (described as part of the definition of <a class="el" href="class_trigger.html">Trigger</a>). </li>
<li>
In SBML Level&#160;3 Version&#160;2, the <a class="el" href="class_trigger.html">Trigger</a> object became optional. An <a class="el" href="class_event.html">Event</a> with no <a class="el" href="class_trigger.html">Trigger</a> will simply not fire. </li>
</ul>
<p>The changes to the attributes of <a class="el" href="class_event.html">Event</a> are described below; the changes to <a class="el" href="class_trigger.html">Trigger</a> and <a class="el" href="class_priority.html">Priority</a> are described in their respective sections.</p>
<h1><a class="anchor" id="semantics"></a>
Semantics of events in SBML Level 3 Version 1</h1>
<p>The detailed semantics of events are described in the specification documents for each SBML Level/Version. Here we include the description from the SBML Level&#160;1 Version&#160;1. Any transition of a <a class="el" href="class_trigger.html">Trigger</a> object's "math" formula from the value <code>false</code> to <code>true</code> will cause the enclosing <a class="el" href="class_event.html">Event</a> object to <em>trigger</em>. Such a transition is not possible at the very start of a simulation (i.e., at time <em>t = 0</em>) unless the <a class="el" href="class_trigger.html">Trigger</a> object's "initialValue" attribute has a value of <code>false</code>; this defines the value of the trigger formula to be <code>false</code> immediately prior to the start of simulation, thereby giving it the potential to change in value from <code>false</code> to <code>true</code> when the formula is evaluated at <em>t = 0</em>. If "initialValue"=<code>true</code>, then the trigger expression cannot transition from <code>false</code> to <code>true</code> at <em>t = 0</em> but may do so at some time <em>t &gt; 0</em>.</p>
<p>Consider an <a class="el" href="class_event.html">Event</a> object definition <em>E</em> with delay <em>d</em> in which the <a class="el" href="class_trigger.html">Trigger</a> object's "math" formula makes a transition in value from <code>false</code> to <code>true</code> at times <em>t<sub>1</sub></em> and <em>t<sub>2</sub></em>. The <a class="el" href="class_event_assignment.html">EventAssignment</a> within the <a class="el" href="class_event.html">Event</a> object will have effect at <em>t<sub>1</sub> + d</em> and <em>t<sub>2</sub> + d</em> irrespective of the relative times of <em>t<sub>1</sub></em> and <em>t<sub>2</sub></em>. For example, events can "overlap" so that <em>t<sub>1</sub> &lt; t<sub>2</sub> &lt; t<sub>1</sub> + d</em> still causes an event assignments to occur at <em>t<sub>1</sub> + d</em> and <em>t<sub>2</sub> + d</em>.</p>
<p>It is entirely possible for two events to be executed simultaneously, and it is possible for events to trigger other events (i.e., an event assignment can cause an event to trigger). This leads to several points: </p><ul>
<li>
<p class="startli">A software package should retest all event triggers after executing an event assignment in order to account for the possibility that the assignment causes another event trigger to transition from <code>false</code> to <code>true</code>. This check should be made after each individual <a class="el" href="class_event.html">Event</a> object's execution, even when several events are to be executed simultaneously.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Any <a class="el" href="class_event.html">Event</a> object whose <a class="el" href="class_trigger.html">Trigger</a> "persistent" attribute has the value <code>false</code> must have its trigger expression reevaluated continuously between when the event is triggered and when it is executed. If its trigger expression ever evaluates to <code>false</code>, it must be removed from the queue of events pending execution and treated as any other event whose trigger expression evaluates to <code>false</code>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Although the precise time at which events are executed is not resolved beyond the given execution point in simulated time, it is assumed that the order in which the events occur <em>is</em> resolved. This order can be significant in determining the overall outcome of a given simulation. When an event <em>X</em> <em>triggers</em> another event <em>Y</em> and event <em>Y</em> has zero delay, then event <em>Y</em> is added to the existing set of simultaneous events that are pending <em>execution</em>. Events <em>X</em> and <em>Y</em> form a cascade of events at the same point in simulation time. An event such as <em>Y</em> may have a special priority if it contains a <a class="el" href="class_priority.html">Priority</a> subobject.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">All events in a model are open to being in a cascade. The position of an event in the event queue does not affect whether it can be in the cascade: event <em>Y</em> can be triggered whether it is before or after <em>X</em> in the queue of events pending execution. A cascade of events can be potentially infinite (never terminate); when this occurs a simulator should indicate this has occurred&mdash;it is incorrect for a simulator to break a cascade arbitrarily and continue the simulation without at least indicating that the infinite cascade occurred.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Simultaneous events having no defined priorities are executed in an undefined order. This does not mean that the behavior of the simulation is completely undefined; merely that the <em>order</em> of execution of these particular events is undefined. A given simulator may use any algorithm to choose an order as long as every event is executed exactly once.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">Events with defined priorities are executed in the order implied by their <a class="el" href="class_priority.html">Priority</a> "math" formula values, with events having higher priorities being executed ahead of events with lower priorities, and events with identical priorities being executed in a random order with respect to one another (as determined at run-time by some random algorithm equivalent to coin-flipping). Newly-triggered events that are to be executed immediately (i.e., if they define no delays) should be inserted into the queue of events pending execution according to their priorities: events with higher priority values value must be inserted ahead of events with lower priority values and after any pending events with even higher priorities, and inserted randomly among pending events with the same priority values. Events without <a class="el" href="class_priority.html">Priority</a> objects must be inserted into the queue in some fashion, but the algorithm used to place it in the queue is undefined. Similarly, there is no restriction on the order of a newly-inserted event with a defined <a class="el" href="class_priority.html">Priority</a> with respect to any other pending <a class="el" href="class_event.html">Event</a> without a defined <a class="el" href="class_priority.html">Priority</a>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">A model variable that is the target of one or more event assignments can change more than once when simultaneous events are processed at some time point <em>t</em>. The model's behavior (output) for such a variable is the value of the variable at the end of processing all the simultaneous events at time <em>t</em>.</p>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="l3v2_restrictions"></a>
Restrictions relaxed in SBML Level 3 Version 2</h1>
<p>In SBML Level&#160;3 Version&#160;2, several restrictions were lifted that have the potential to affect the semantics of an <a class="el" href="class_event.html">Event</a>:</p>
<ul>
<li>
<p class="startli">The <a class="el" href="class_trigger.html">Trigger</a> subobject of an <a class="el" href="class_event.html">Event</a> is optional. If missing, an <a class="el" href="class_event.html">Event</a> is never <em>triggered</em>, unless an alternate triggering scheme is introduced by an SBML Level&#160;3 package.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The "math" subelements of an <a class="el" href="class_event.html">Event</a> <a class="el" href="class_trigger.html">Trigger</a>, <a class="el" href="class_delay.html">Delay</a>, <a class="el" href="class_priority.html">Priority</a>, and <a class="el" href="class_event_assignment.html">EventAssignment</a> are all optional. If any of these elements lack a "math" subelement, and that information is not supplied in an SBML Level&#160;3 package, it is mathematically equivalent to the <a class="el" href="class_trigger.html">Trigger</a>, <a class="el" href="class_delay.html">Delay</a>, <a class="el" href="class_priority.html">Priority</a>, or <a class="el" href="class_event_assignment.html">EventAssignment</a> not being present at all.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The <a class="el" href="class_list_of_event_assignments.html">ListOfEventAssignments</a> may be empty, which is mathematically equivalent to the <a class="el" href="class_event.html">Event</a> not having a <a class="el" href="class_list_of_event_assignments.html">ListOfEventAssignments</a> at all.</p>
<p class="endli"></p>
</li>
<li>
Any "math" subelement may return a Boolean or a numeric value in any context. If a numeric value is used in a Boolean context, a "0" is interpreted as <code>false</code>, and all other values are interpreted as <code>true</code>. If a Boolean value is used in a numeric context, a <code>true</code> is interpreted as a 1, and a <code>false</code> is interpreted as a 0. This means (for example) that a <a class="el" href="class_trigger.html">Trigger</a> value that changes from 0.0 to anything else is equivalent to changing from <code>false</code> to <code>true</code>. </li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_trigger.html">Trigger</a> </dd>
<dd>
<a class="el" href="class_priority.html">Priority</a> </dd>
<dd>
<a class="el" href="class_delay.html">Delay</a> </dd>
<dd>
<a class="el" href="class_event_assignment.html">EventAssignment</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_event_8h.html">Event.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
