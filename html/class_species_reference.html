<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: SpeciesReference Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SpeciesReference Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SpeciesReference.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} A reference to an SBML species in a reaction.</p>
<p>The <a class="el" href="class_reaction.html">Reaction</a> structure provides a way to express which species act as reactants and which species act as products in a reaction. In a given reaction, references to those species acting as reactants and/or products are made using instances of <a class="el" href="class_species_reference.html">SpeciesReference</a> structures in a <a class="el" href="class_reaction.html">Reaction</a> object's lists of reactants and products.</p>
<p>A species can occur more than once in the lists of reactants and products of a given <a class="el" href="class_reaction.html">Reaction</a> instance. The effective stoichiometry for a species in a reaction is the sum of the stoichiometry values given on the <a class="el" href="class_species_reference.html">SpeciesReference</a> object in the list of products minus the sum of stoichiometry values given on the <a class="el" href="class_species_reference.html">SpeciesReference</a> objects in the list of reactants. A positive value indicates the species is effectively a product and a negative value indicates the species is effectively a reactant. SBML places no restrictions on the effective stoichiometry of a species in a reaction; for example, it can be zero. In the following SBML fragment, the two reactions have the same effective stoichiometry for all their species: </p><pre class="fragment">&lt;reaction id="x"&gt;
    &lt;listOfReactants&gt;
        &lt;speciesReference species="a"/&gt;
        &lt;speciesReference species="a"/&gt;
        &lt;speciesReference species="b"/&gt;
    &lt;/listOfReactants&gt;
    &lt;listOfProducts&gt;
        &lt;speciesReference species="c"/&gt;
        &lt;speciesReference species="b"/&gt;
    &lt;/listProducts&gt;
&lt;/reaction&gt;
&lt;reaction id="y"&gt;
    &lt;listOfReactants&gt;
        &lt;speciesReference species="a" stoichiometry="2"/&gt;
    &lt;/listOfReactants&gt;
    &lt;listOfProducts&gt;
        &lt;speciesReference species="c"/&gt;
    &lt;/listProducts&gt;
&lt;/reaction&gt;
</pre><p>The precise structure of <a class="el" href="class_species_reference.html">SpeciesReference</a> differs between SBML Level&#160;2 and Level&#160;3. We discuss the two variants in separate sections below.</p>
<h1><a class="anchor" id="spr-l2"></a>
SpeciesReference in SBML Level 2</h1>
<p>The mandatory "species" attribute of <a class="el" href="class_species_reference.html">SpeciesReference</a> must have as its value the identifier of an existing species defined in the enclosing <a class="el" href="class_model.html">Model</a>. The species is thereby designated as a reactant or product in the reaction. Which one it is (i.e., reactant or product) is indicated by whether the <a class="el" href="class_species_reference.html">SpeciesReference</a> appears in the <a class="el" href="class_reaction.html">Reaction</a>'s "reactant" or "product" lists.</p>
<p>Product and reactant stoichiometries can be specified using <em>either</em> "stoichiometry" or "stoichiometryMath" in a <a class="el" href="class_species_reference.html">SpeciesReference</a> object. The "stoichiometry" attribute is of type double and should contain values greater than zero (0). The "stoichiometryMath" element is implemented as an element containing a MathML expression. These two are mutually exclusive; only one of "stoichiometry" or "stoichiometryMath" should be defined in a given <a class="el" href="class_species_reference.html">SpeciesReference</a> instance. When neither the attribute nor the element is present, the value of "stoichiometry" in the <a class="el" href="class_species_reference.html">SpeciesReference</a> instance defaults to <code>1</code>.</p>
<p>For maximum interoperability, the "stoichiometry" attribute should be used in preference to "stoichiometryMath" when a species' stoichiometry is a simple scalar number (integer or decimal). When the stoichiometry is a rational number, or when it is a more complicated formula, "stoichiometryMath" must be used. The MathML expression in "stoichiometryMath" may also refer to identifiers of entities in a model (except reaction identifiers). However, the only species identifiers that can be used in "stoichiometryMath" are those referenced in the <a class="el" href="class_reaction.html">Reaction</a> list of reactants, products and modifiers.</p>
<p>The following is a simple example of a species reference for species <code>X0</code>, with stoichiometry <code>2</code>, in a list of reactants within a reaction having the identifier <code>J1:</code> </p><pre class="fragment">&lt;model&gt;
    ...
    &lt;listOfReactions&gt;
        &lt;reaction id="J1"&gt;
            &lt;listOfReactants&gt;
                &lt;speciesReference species="X0" stoichiometry="2"&gt;
            &lt;/listOfReactants&gt;
            ...
        &lt;/reaction&gt;
        ...
    &lt;/listOfReactions&gt;
    ...
&lt;/model&gt;
</pre><p>The following is a more complex example of a species reference for species X0, with a stoichiometry formula consisting of the parameter <code>x:</code> </p><pre class="fragment">&lt;model&gt;
    ...
    &lt;listOfReactions&gt;
        &lt;reaction id="J1"&gt;
            &lt;listOfReactants&gt;
                &lt;speciesReference species="X0"&gt;
                    &lt;stoichiometryMath&gt;
                        &lt;math xmlns="http://www.w3.org/1998/Math/MathML"&gt;
                            &lt;ci&gt;x&lt;/ci&gt;
                        &lt;/math&gt;
                    &lt;/stoichiometryMath&gt;
                &lt;/speciesReference&gt;
            &lt;/listOfReactants&gt;
            ...
        &lt;/reaction&gt;
        ...
    &lt;/listOfReactions&gt;
    ...
&lt;/model&gt;
</pre><h1><a class="anchor" id="spr-l3"></a>
SpeciesReference in SBML Level 3</h1>
<p>In Level 2's definition of a reaction, the stoichiometry attribute of a <a class="el" href="class_species_reference.html">SpeciesReference</a> is actually a combination of two factors, the standard biochemical stoichiometry and a conversion factor that may be needed to translate the units of the species quantity to the units of the reaction rate. Unfortunately, Level&#160;2 offers no direct way of decoupling these two factors, or for explicitly indicating the units. The only way to do it in Level&#160;2 is to use the <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a> object associated with SpeciesReferences, and to reference SBML <a class="el" href="class_parameter.html">Parameter</a> objects from within the <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a> formula. This works because <a class="el" href="class_parameter.html">Parameter</a> offers a way to attach units to a numerical value, but the solution is indirect and awkward for something that should be a simple matter. Moreover, the question of how to properly encode stoichiometries in SBML reactions has caused much confusion among implementors of SBML software.</p>
<p>SBML Level&#160;3 approaches this problem differently. It (1) extends the the use of the <a class="el" href="class_species_reference.html">SpeciesReference</a> identifier to represent the value of the "stoichiometry" attribute, (2) makes the "stoichiometry" attribute optional, (3) removes <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a>, and (4) adds a new "constant" boolean attribute on <a class="el" href="class_species_reference.html">SpeciesReference</a>.</p>
<p>As in Level&#160;2, the "stoichiometry" attribute is of type <code>double</code> and should contain values greater than zero (<code>0</code>). A missing "stoichiometry" implies that the stoichiometry is either unknown, or to be obtained from an external source, or determined by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> object or other SBML construct elsewhere in the model.</p>
<p>A species reference's stoichiometry is set by its "stoichiometry" attribute exactly once. If the <a class="el" href="class_species_reference.html">SpeciesReference</a> object's "constant" attribute has the value <code>true</code>, then the stoichiometry is fixed and cannot be changed except by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> object. These two methods of setting the stoichiometry (i.e., using "stoichiometry" directly, or using <a class="el" href="class_initial_assignment.html">InitialAssignment</a>) differ in that the "stoichiometry" attribute can only be set to a literal floating-point number, whereas <a class="el" href="class_initial_assignment.html">InitialAssignment</a> allows the value to be set using an arbitrary mathematical expression. (As an example, the approach could be used to set the stoichiometry to a rational number of the form <em>p/<em>q</em>,</em> where <em>p</em> and <em>q</em> are integers, something that is occasionally useful in the context of biochemical reaction networks.) If the species reference's "constant" attribute has the value <code>false</code>, the species reference's value may be overridden by an <a class="el" href="class_initial_assignment.html">InitialAssignment</a> or changed by <a class="el" href="class_assignment_rule.html">AssignmentRule</a> or <a class="el" href="class_algebraic_rule.html">AlgebraicRule</a>, and in addition, for simulation time <em>t &gt; 0</em>, it may also be changed by a <a class="el" href="class_rate_rule.html">RateRule</a> or <a class="el" href="class_event.html">Event</a> objects. (However, some of these constructs are mutually exclusive; see the SBML Level&#160;3 Core specifiation for more details.) It is not an error to define "stoichiometry" on a species reference and also redefine the stoichiometry using an <a class="el" href="class_initial_assignment.html">InitialAssignment</a>, but the "stoichiometry" attribute in that case is ignored.</p>
<p>The value of the "id" attribute of a <a class="el" href="class_species_reference.html">SpeciesReference</a> can be used as the content of a <code>&lt;ci&gt;</code> element in MathML formulas elsewhere in the model. When the identifier appears in a MathML <code>&lt;ci&gt;</code> element, it represents the stoichiometry of the corresponding species in the reaction where the <a class="el" href="class_species_reference.html">SpeciesReference</a> object instance appears. More specifically, it represents the value of the "stoichiometry" attribute on the <a class="el" href="class_species_reference.html">SpeciesReference</a> object.</p>
<p>In SBML Level 3, the unit of measurement associated with the value of a species' stoichiometry is always considered to be <code>dimensionless</code>. This has the following implications: </p><ul>
<li>
<p class="startli">When a species reference's identifier appears in mathematical formulas elsewhere in the model, the unit associated with that value is <code>dimensionless</code>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">The units of the "math" elements of <a class="el" href="class_assignment_rule.html">AssignmentRule</a>, <a class="el" href="class_initial_assignment.html">InitialAssignment</a> and <a class="el" href="class_event_assignment.html">EventAssignment</a> objects setting the stoichiometry of the species reference should be <code>dimensionless</code>.</p>
<p class="endli"></p>
</li>
<li>
<p class="startli">If a species reference's identifier is the subject of a <a class="el" href="class_rate_rule.html">RateRule</a>, the unit associated with the <a class="el" href="class_rate_rule.html">RateRule</a> object's value should be <code>dimensionless</code>/<em>time</em>, where <em>time</em> is the model-wide unit of time set on the <a class="el" href="class_model.html">Model</a> object.</p>
<p class="endli"></p>
</li>
</ul>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_species_reference_8h.html">SpeciesReference.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
