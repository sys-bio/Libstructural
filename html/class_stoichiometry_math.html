<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: StoichiometryMath Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">StoichiometryMath Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;StoichiometryMath.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} Stochiometry expressions in SBML Level 2 reactions.</p>
<h1><a class="anchor" id="l2-stoichiometries"></a>
Stoichiometries in SBML Level 2</h1>
<p>In SBML Level 2, product and reactant stoichiometries can be specified using <em>either</em> the "stoichiometry" attribute or a "stoichiometryMath" element in a <a class="el" href="class_species_reference.html">SpeciesReference</a> object. The "stoichiometry" attribute is of type <code>double</code> and should contain values greater than zero (0). The "stoichiometryMath" element is implemented as an element containing a MathML expression. These two are mutually exclusive; only one of "stoichiometry" or "stoichiometryMath" should be defined in a given <a class="el" href="class_species_reference.html">SpeciesReference</a> instance. When neither the attribute nor the element is present, the value of "stoichiometry" in the enclosing <a class="el" href="class_species_reference.html">SpeciesReference</a> instance defaults to <code>1</code>.</p>
<p>For maximum interoperability, <a class="el" href="class_species_reference.html">SpeciesReference</a>'s "stoichiometry" attribute should be used in preference to "stoichiometryMath" when a species' stoichiometry is a simple scalar number (integer or decimal). When the stoichiometry is a rational number, or when it is a more complicated formula, "stoichiometryMath" must be used. The MathML expression in "stoichiometryMath" may also refer to identifiers of entities in a model (except reaction identifiers). However, the only species identifiers that can be used in "stoichiometryMath" are those referenced in the enclosing <a class="el" href="class_reaction.html">Reaction</a>'s list of reactants, products and modifiers.</p>
<p>The "stoichiometry" attribute and the "stoichiometryMath" element, when either is used, is each interpreted as a factor applied to the reaction rate to produce the rate of change of the species identified by the "species" attribute in the enclosing <a class="el" href="class_species_reference.html">SpeciesReference</a>. This is the normal interpretation of a stoichiometry, but in SBML, one additional consideration has to be taken into account. The reaction rate, which is the result of the <a class="el" href="class_kinetic_law.html">KineticLaw</a>'s "math" element, is always in the model's <em>substance</em> per <em>time</em> units. However, the rate of change of the species will involve the species' <em>substance</em> units (i.e., the units identified by the <a class="el" href="class_species.html">Species</a> object's "substanceUnits" attribute), and these units may be different from the model's default <em>substance</em> units. If the units <em>are</em> different, the stoichiometry must incorporate a conversion factor for converting the model's <em>substance</em> units to the species' <em>substance</em> units. The conversion factor is assumed to be included in the scalar value of the "stoichiometry" attribute if "stoichiometry" is used. If instead "stoichiometryMath" is used, then the product of the model's "substance" units times the "stoichiometryMath" units must match the <em>substance</em> units of the species. Note that in either case, if the species' units and the model's default <em>substance</em> units are the same, the stoichiometry ends up being a dimensionless number and equivalent to the standard chemical stoichiometry found in textbooks. Examples and more explanations of this are given in the SBML specification.</p>
<p>The following is a simple example of a species reference for species <code>"X0"</code>, with stoichiometry <code>2</code>, in a list of reactants within a reaction having the identifier <code>"J1"</code>: </p><pre class="fragment">&lt;model&gt;
    ...
    &lt;listOfReactions&gt;
        &lt;reaction id="J1"&gt;
            &lt;listOfReactants&gt;
                &lt;speciesReference species="X0" stoichiometry="2"&gt;
            &lt;/listOfReactants&gt;
            ...
        &lt;/reaction&gt;
        ...
    &lt;/listOfReactions&gt;
    ...
&lt;/model&gt;
</pre><p>The following is a more complex example of a species reference for species <code>"X0"</code>, with a stoichiometry formula consisting of a rational number: </p><pre class="fragment">&lt;model&gt;
    ...
    &lt;listOfReactions&gt;
        &lt;reaction id="J1"&gt;
            &lt;listOfReactants&gt;
                &lt;speciesReference species="X0"&gt;
                    &lt;stoichiometryMath&gt;
                        &lt;math xmlns="http://www.w3.org/1998/Math/MathML"&gt; 
                            &lt;cn type="rational"&gt; 3 &lt;sep/&gt; 2 &lt;/cn&gt;
                        &lt;/math&gt;
                    &lt;/stoichiometryMath&gt;
                &lt;/speciesReference&gt;
            &lt;/listOfReactants&gt;
            ...
        &lt;/reaction&gt;
        ...
    &lt;/listOfReactions&gt;
    ...
&lt;/model&gt;
</pre><p>Additional discussions of stoichiometries and implications for species and reactions are included in the documentation of <a class="el" href="class_species_reference.html">SpeciesReference</a> class.</p>
<h1><a class="anchor" id="l3-stoichiometries"></a>
Stoichiometries in SBML Level 3</h1>
<p>The <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a> construct is not defined in SBML Level&#160;3. Instead, Level&#160;3 defines the identifier of <a class="el" href="class_species_reference.html">SpeciesReference</a> objects as a stand-in for the stoichiometry of the reactant or product being referenced, and allows that identifier to be used elsewhere in SBML models, including (for example) <a class="el" href="class_initial_assignment.html">InitialAssignment</a> objects. This makes it possible to achieve the same effect as <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a>, but with other SBML objects. For instance, to produce a stoichiometry value that is a rational number, a model can use <a class="el" href="class_initial_assignment.html">InitialAssignment</a> to assign the identifier of a <a class="el" href="class_species_reference.html">SpeciesReference</a> object to a MathML expression evaluating to a rational number. This is analogous to the same way that, in Level&#160;2, the model would use <a class="el" href="class_stoichiometry_math.html">StoichiometryMath</a> with a MathML expression evaluating to a rational number.</p>
<p>In SBML Level 2, the stoichiometry of a reactant or product is a combination of both a <em>biochemical stoichiometry</em> (meaning, the standard stoichiometry of a species in a reaction) and any necessary unit conversion factors. The introduction of an explicit attribute on the <a class="el" href="class_species.html">Species</a> object for a conversion factor allows Level&#160;3 to avoid having to overload the meaning of stoichiometry. In Level&#160;3, the stoichiometry given by a <a class="el" href="class_species_reference.html">SpeciesReference</a> object in a reaction is a "proper" biochemical stoichiometry, meaning a dimensionless number free of unit conversions.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_species_reference.html">SpeciesReference</a> </dd>
<dd>
<a class="el" href="class_reaction.html">Reaction</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_stoichiometry_math_8h.html">StoichiometryMath.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
