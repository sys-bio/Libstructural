<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: SBMLDocument Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SBMLDocument Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;SBMLDocument.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} Overall SBML container object.</p>
<p>When creating fresh models programmatically, the starting point is typically the creation of an <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> object instance. The <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> constructor accepts arguments for the SBML Level and Version of the model to be created. After creating the <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> object, calling programs then typically call SBMLDocument::createModel() almost immediately, and then proceed to call the methods on the <a class="el" href="class_model.html">Model</a> object to fill out the model's contents.</p>
<p><a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> corresponds roughly to the class <em>Sbml</em> defined in the SBML Level&#160;2 specification and <em>SBML</em> in the Level&#160;3 specification. It does not have a direct correspondence in SBML Level&#160;1. (However, to make matters simpler for applications, libSBML creates an <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> no matter whether the model is Level&#160;1, Level&#160;2 or Level&#160;3.) In its barest form, when written out in XML format for (e.g.) SBML Level&#160;2 Version&#160;4, the corresponding structure is the following: </p><pre class="fragment">&lt;sbml xmlns="http://www.sbml.org/sbml/level2/version4" level="2" version="4"&gt;
  ...
&lt;/sbml&gt;</pre><p><a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> is derived from <a class="el" href="class_s_base.html">SBase</a>, and therefore contains the usual <a class="el" href="class_s_base.html">SBase</a> attributes (in SBML Level&#160;2 and Level&#160;3) of "metaid" and "sboTerm", as well as the subelements "notes" and "annotation". It also contains the attributes "level" and "version" indicating the Level and Version of the SBML data structure. These can be accessed using the methods defined by the <a class="el" href="class_s_base.html">SBase</a> class for that purpose.</p>
<h1><a class="anchor" id="checking"></a>
Checking consistency and adherence to SBML specifications</h1>
<p>One of the most important features of libSBML is its ability to perform SBML validation to ensure that a model adheres to the SBML specification for whatever Level+Version combination the model uses. <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> provides the methods for running consistency-checking and validation rules on the SBML content.</p>
<p>First, a brief explanation of the rationale is in order. In libSBML versions up to and including the version&#160;3.3.x series, the individual methods for creating and setting attributes and other components were quite lenient, and allowed a caller to compose SBML entities that might not, in the end, represent valid SBML. This allowed applications the freedom to do things such as save incomplete models (which is useful when models are being developed over long periods of time). In the version&#160;4.x series, libSBML is somewhat stricter, but still permits structures to be created independently and the results to be combined in a separate step. In all these cases, it means that a separate validation step is necessary when a calling program finally wants to finish a complete SBML document.</p>
<p>The primary interface to this validation facility is <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a>'s SBMLDocument::checkInternalConsistency() and SBMLDocument::checkConsistency(). The former verifies the basic internal consistency and syntax of an SBML document, and the latter implements more elaborate validation rules (both those defined by the SBML specifications, as well as additional rules offered by libSBML).</p>
<p>These methods have slightly different relevance depending on whether a model is created programmaticaly from scratch, or whether it is read in from a file or data stream. The following list summarizes the possible scenarios.</p>
<p><em>Scenario 1: Creating a model from scratch</em>. Before writing out the model,</p>
<ul>
<li>Call SBMLDocument::checkInternalConsistency(), then inquire about the results by calling SBMLDocument::getNumErrors()</li>
</ul>
<ul>
<li>Call SBMLDocument::setConsistencyChecks() to configure which checks will be performed by SBMLDocument::checkConsistency()</li>
</ul>
<ul>
<li>Call SBMLDocument::checkConsistency(), then inquire about the results by calling SBMLDocument::getNumErrors()</li>
</ul>
<p><em>Scenario 2: Reading a model from a file or data stream.</em> After reading the model,</p>
<ul>
<li>Basic consistency checks will have been performed automatically by libSBML upon reading the content, so you only need to inquire about the results by using SBMLDocument::getNumErrors()</li>
</ul>
<ul>
<li>Call SBMLDocument::setConsistencyChecks() to configure which checks are performed by SBMLDocument::checkConsistency()</li>
</ul>
<ul>
<li>Call SBMLDocument::checkConsistency(), then inquire about the results by calling SBMLDocument::getNumErrors()</li>
</ul>
<p>It should be noted that as of SBML Level&#160;3 Version&#160;2, the <a class="el" href="class_model.html">Model</a> became an optional child of <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a>, instead of being required. This means that one can no longer use SBMLDocument::getModel() as a cheap method of checking if an SBML document was read in properly: the more robust getError methods detailed above must be used instead.</p>
<h1><a class="anchor" id="converting"></a>
Converting documents between Levels and Versions of SBML</h1>
<p>LibSBML provides facilities for limited translation of SBML between Levels and Versions of the SBML specifications. The method for doing is is setLevelAndVersion() . In general, models can be converted upward without difficulty (e.g., from SBML Level&#160;1 to Level&#160;2, or from an earlier Version of Level&#160;2 to the latest Version of Level&#160;2). Sometimes models can be translated downward as well, if they do not use constructs specific to more advanced Levels of SBML.</p>
<p>Calling SBMLDocument::setLevelAndVersion() will not <em>necessarily</em> lead to a successful conversion. The method will return a boolean value to indicate success or failure. Callers must check the error log (see next section) attached to the <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> object after calling SBMLDocument::setLevelAndVersion() in order to assess whether any problems arose.</p>
<p>If an application is interested in translating to a lower Level and/or Version of SBML within a Level, the following methods allow for prior assessment of whether there is sufficient compatibility to make a translation possible:</p>
<ul>
<li>SBMLDocument::checkL1Compatibility(), </li>
<li>SBMLDocument::checkL2v1Compatibility(), </li>
<li>SBMLDocument::checkL2v2Compatibility(), </li>
<li>SBMLDocument::checkL2v3Compatibility(), </li>
<li>SBMLDocument::checkL2v4Compatibility(), </li>
<li>SBMLDocument::checkL2v5Compatibility(), and </li>
<li>SBMLDocument::checkL3v1Compatibility().</li>
</ul>
<p>Some changes between Versions of SBML Level&#160;2 may lead to unexpected behaviors when attempting conversions in either direction. For example, SBML Level&#160;2 Version&#160;4 relaxed the requirement for consistency in units of measurement between expressions annd quantities in a model. As a result, a model written in Version&#160;4, if converted to Version&#160;3 with no other changes, may fail validation as a Version&#160;3 model because Version&#160;3 imposed stricter requirements on unit consistency.</p>
<p>Other changes between SBML Level 2 and Level 3 make downward conversions challenging. In some cases, it means that a model converted to Level&#160;2 from Level&#160;3 will contain attributes that were not explicitly given in the Level&#160;3 model, because in Level&#160;2 these attributes may have been optional or have default values.</p>
<h1><a class="anchor" id="errors"></a>
Error handling</h1>
<p>Upon reading a model, <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> logs any problems encountered while reading the model from the file or data stream. The log contains objects that record diagnostic information about any notable issues that arose. Whether the problems are warnings or errors, they are both reported through a single common interface involving the object class <a class="el" href="class_s_b_m_l_error.html">SBMLError</a>.</p>
<p>The methods SBMLDocument::getNumErrors(), SBMLDocument::getError() and SBMLDocument::printErrors() allow callers to interact with the warnings or errors logged. Alternatively, callers may retrieve the entire log as an <a class="el" href="class_s_b_m_l_error_log.html">SBMLErrorLog</a> object using the method SBMLDocument::getErrorLog(). The <a class="el" href="class_s_b_m_l_error_log.html">SBMLErrorLog</a> object provides some alternative methods for interacting with the set of errors and warnings. In either case, applications typically should first call SBMLDocument::getNumErrors() to find out if any issues have been logged after specific libSBML operations such as the ones discussed in the sections above. If they have, then an application will should proceed to inspect the individual reports using either the direct interfaces on <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> or using the methods on the <a class="el" href="class_s_b_m_l_error_log.html">SBMLErrorLog</a> object. </p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_s_b_m_l_document_8h.html">SBMLDocument.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
