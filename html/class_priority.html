<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Structural Analysis Library: Priority Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Structural Analysis Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Priority Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;Priority.h&gt;</code></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>{core} The priority of execution of an SBML <em>event</em>.</p>
<p>The <a class="el" href="class_priority.html">Priority</a> object class (which was introduced in SBML Level&#160;3 Version&#160;1), like <a class="el" href="class_delay.html">Delay</a>, is derived from <a class="el" href="class_s_base.html">SBase</a> and contains a MathML formula stored in the element "math". This formula is used to compute a dimensionless numerical value that influences the order in which a simulator is to perform the assignments of two or more events that happen to be executed simultaneously. The formula may evaluate to any <code>double</code> value (and thus may be a positive or negative number, or zero), with positive numbers taken to signifying a higher priority than zero or negative numbers. If no <a class="el" href="class_priority.html">Priority</a> object is present on a given <a class="el" href="class_event.html">Event</a> object, no priority is defined for that event.</p>
<h1><a class="anchor" id="priority-interp"></a>
The interpretation of priorities on events in a model</h1>
<p>For the purposes of SBML, <em>simultaneous event execution</em> is defined as the situation in which multiple events have identical times of execution. The time of execution is calculated as the sum of the time at which a given event's <a class="el" href="class_trigger.html">Trigger</a> is <em>triggered</em> plus its <a class="el" href="class_delay.html">Delay</a> duration, if any. Here, <em>identical times</em> means <em>mathematically equal</em> instants in time. (In practice, simulation software adhering to this specification may have to rely on numerical equality instead of strict mathematical equality; robust models will ensure that this difference will not cause significant discrepancies from expected behavior.)</p>
<p>If no <a class="el" href="class_priority.html">Priority</a> subobjects are defined for two or more <a class="el" href="class_event.html">Event</a> objects, then those events are still executed simultaneously but their order of execution is <em>undefined by the SBML Level&#160;3 specification</em>. A software implementation may choose to execute such simultaneous events in any order, as long as each event is executed only once and the requirements of checking the "persistent" attribute (and acting accordingly) are satisfied.</p>
<p>If <a class="el" href="class_priority.html">Priority</a> subobjects are defined for two or more simultaneously-triggered events, the order in which those particular events must be executed is dictated by their <a class="el" href="class_priority.html">Priority</a> objects, as follows. If the values calculated using the two <a class="el" href="class_priority.html">Priority</a> objects' "math" expressions differ, then the event having the higher priority value must be executed before the event with the lower value. If, instead, the two priority values are mathematically equal, then the two events must be triggered in a <em>random</em> order. It is important to note that a <em>random order is not the same as an undefined order</em>: given multiple runs of the same model with identical conditions, an undefined ordering would permit a system to execute the events in (for example) the same order every time (according to whatever scheme may have been implemented by the system), whereas the explicit requirement for random ordering means that the order of execution in different simulation runs depends on random chance. In other words, given two events <em>A</em> and <em>B</em>, a randomly-determined order must lead to an equal chance of executing <em>A</em> first or <em>B</em> first, every time those two events are executed simultaneously.</p>
<p>A model may contain a mixture of events, some of which have <a class="el" href="class_priority.html">Priority</a> subobjects and some do not. Should a combination of simultaneous events arise in which some events have priorities defined and others do not, the set of events with defined priorities must trigger in the order determined by their <a class="el" href="class_priority.html">Priority</a> objects, and the set of events without <a class="el" href="class_priority.html">Priority</a> objects must be executed in an <em>undefined</em> order with respect to each other and with respect to the events with <a class="el" href="class_priority.html">Priority</a> subobjects. (Note that <em>undefined order</em> does not necessarily mean random order, although a random ordering would be a valid implementation of this requirement.)</p>
<p>The following example may help further clarify these points. Suppose a model contains four events that should be executed simultaneously, with two of the events having <a class="el" href="class_priority.html">Priority</a> objects with the same value and the other two events having <a class="el" href="class_priority.html">Priority</a> objects with the same, but different, value. The two events with the higher priorities must be executed first, in a random order with respect to each other, and the remaining two events must be executed after them, again in a random order, for a total of four possible and equally-likely event executions: A-B-C-D, A-B-D-C, B-A-C-D, and B-A-D-C. If, instead, the model contains four events all having the same <a class="el" href="class_priority.html">Priority</a> values, there are 4! or 24 possible orderings, each of which must be equally likely to be chosen. Finally, if none of the four events has a <a class="el" href="class_priority.html">Priority</a> subobject defined, or even if exactly one of the four events has a defined <a class="el" href="class_priority.html">Priority</a>, there are again 24 possible orderings, but the likelihood of choosing any particular ordering is undefined; the simulator can choose between events as it wishes. (The SBML specification only defines the effects of priorities on <a class="el" href="class_event.html">Event</a> objects with respect to <em>other</em> <a class="el" href="class_event.html">Event</a> objects with priorities. Putting a priority on a <em>single</em> <a class="el" href="class_event.html">Event</a> object in a model does not cause it to fall within that scope.)</p>
<h1><a class="anchor" id="priority-eval"></a>
Evaluation of Priority expressions</h1>
<p>An event's <a class="el" href="class_priority.html">Priority</a> object "math" expression must be evaluated at the time the <a class="el" href="class_event.html">Event</a> is to be <em>executed</em>. During a simulation, all simultaneous events have their <a class="el" href="class_priority.html">Priority</a> values calculated, and the event with the highest priority is selected for next execution. Note that it is possible for the execution of one <a class="el" href="class_event.html">Event</a> object to cause the <a class="el" href="class_priority.html">Priority</a> value of another simultaneously-executing <a class="el" href="class_event.html">Event</a> object to change (as well as to trigger other events, as already noted). Thus, after executing one event, and checking whether any other events in the model have been triggered, all remaining simultaneous events that <em>either</em> (i) have <a class="el" href="class_trigger.html">Trigger</a> objects with attributes "persistent"=<code>false</code> <em>or</em> (ii) have <a class="el" href="class_trigger.html">Trigger</a> expressions that did not transition from <code>true</code> to <code>false</code>, must have their <a class="el" href="class_priority.html">Priority</a> expression reevaluated. The highest-priority remaining event must then be selected for execution next.</p>
<h1><a class="anchor" id="priority-units"></a>
Units of Priority object's mathematical expressions</h1>
<p>The unit associated with the value of a <a class="el" href="class_priority.html">Priority</a> object's "math" expression should be <code>dimensionless</code>. This is because the priority expression only serves to provide a relative ordering between different events, and only has meaning with respect to other <a class="el" href="class_priority.html">Priority</a> object expressions. The value of <a class="el" href="class_priority.html">Priority</a> objects is not comparable to any other kind of object in an SBML model.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="class_priority.html">Priority</a> construct exists only in SBML Level&#160;3; it cannot be used in SBML Level&#160;2 or Level&#160;1 models.</dd></dl>
<h1><a class="anchor" id="priority-restrictions"></a>
Restrictions relaxed in SBML Level 3 Version 2</h1>
<p>In SBML Level&#160;3 Version&#160;2, the requirement that a <a class="el" href="class_priority.html">Priority</a> have a "math" subelement was relaxed, making it optional. In this case, the <a class="el" href="class_priority.html">Priority</a> remains undefined, and unless that information is provided in some other form (such as with an SBML Level&#160;3 package), the <a class="el" href="class_event.html">Event</a> behaves as if it had no <a class="el" href="class_priority.html">Priority</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_event.html">Event</a> </dd>
<dd>
<a class="el" href="class_delay.html">Delay</a> </dd>
<dd>
<a class="el" href="class_event_assignment.html">EventAssignment</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_priority_8h.html">Priority.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
