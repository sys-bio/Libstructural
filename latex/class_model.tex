\hypertarget{class_model}{}\section{Model Class Reference}
\label{class_model}\index{Model@{Model}}


{\ttfamily \#include $<$Model.\+h$>$}



\subsection{Detailed Description}
\{core\} An S\+B\+ML model.

In an S\+B\+ML model definition, a single object of class \hyperlink{class_model}{Model} serves as the overall container for the lists of the various model components. All of the lists are optional, but if a given list container is present within the model, the list must not be empty; that is, it must have length one or more. The following are the components and lists permitted in different Levels and Versions of S\+B\+ML in version  of lib\+S\+B\+ML\+: 
\begin{DoxyItemize}
\item In S\+B\+ML Level 1, the components are\+: \hyperlink{class_unit_definition}{Unit\+Definition}, \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, \hyperlink{class_parameter}{Parameter}, \hyperlink{class_rule}{Rule}, and \hyperlink{class_reaction}{Reaction}. Instances of the classes are placed inside instances of classes \hyperlink{class_list_of_unit_definitions}{List\+Of\+Unit\+Definitions}, \hyperlink{class_list_of_compartments}{List\+Of\+Compartments}, \hyperlink{class_list_of_species}{List\+Of\+Species}, \hyperlink{class_list_of_parameters}{List\+Of\+Parameters}, \hyperlink{class_list_of_rules}{List\+Of\+Rules}, and \hyperlink{class_list_of_reactions}{List\+Of\+Reactions}.


\item In S\+B\+ML Level 2 Version 1, the components are\+: \hyperlink{class_function_definition}{Function\+Definition}, \hyperlink{class_unit_definition}{Unit\+Definition}, \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, \hyperlink{class_parameter}{Parameter}, \hyperlink{class_rule}{Rule}, \hyperlink{class_reaction}{Reaction} and \hyperlink{class_event}{Event}. Instances of the classes are placed inside instances of classes \hyperlink{class_list_of_function_definitions}{List\+Of\+Function\+Definitions}, \hyperlink{class_list_of_unit_definitions}{List\+Of\+Unit\+Definitions}, \hyperlink{class_list_of_compartments}{List\+Of\+Compartments}, \hyperlink{class_list_of_species}{List\+Of\+Species}, \hyperlink{class_list_of_parameters}{List\+Of\+Parameters}, \hyperlink{class_list_of_rules}{List\+Of\+Rules}, \hyperlink{class_list_of_reactions}{List\+Of\+Reactions}, and \hyperlink{class_list_of_events}{List\+Of\+Events}.


\item In S\+B\+ML Level 2 Versions 2, 3 and 4, the components are\+: \hyperlink{class_function_definition}{Function\+Definition}, \hyperlink{class_unit_definition}{Unit\+Definition}, \hyperlink{class_compartment_type}{Compartment\+Type}, \hyperlink{class_species_type}{Species\+Type}, \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, \hyperlink{class_parameter}{Parameter}, \hyperlink{class_initial_assignment}{Initial\+Assignment}, \hyperlink{class_rule}{Rule}, \hyperlink{class_constraint}{Constraint}, \hyperlink{class_reaction}{Reaction} and \hyperlink{class_event}{Event}. Instances of the classes are placed inside instances of classes \hyperlink{class_list_of_function_definitions}{List\+Of\+Function\+Definitions}, \hyperlink{class_list_of_unit_definitions}{List\+Of\+Unit\+Definitions}, \hyperlink{class_list_of_compartment_types}{List\+Of\+Compartment\+Types}, \hyperlink{class_list_of_species_types}{List\+Of\+Species\+Types}, \hyperlink{class_list_of_compartments}{List\+Of\+Compartments}, \hyperlink{class_list_of_species}{List\+Of\+Species}, \hyperlink{class_list_of_parameters}{List\+Of\+Parameters}, \hyperlink{class_list_of_initial_assignments}{List\+Of\+Initial\+Assignments}, \hyperlink{class_list_of_rules}{List\+Of\+Rules}, \hyperlink{class_list_of_constraints}{List\+Of\+Constraints}, \hyperlink{class_list_of_reactions}{List\+Of\+Reactions}, and \hyperlink{class_list_of_events}{List\+Of\+Events}.


\item In S\+B\+ML Level 3 Version 1, the components are\+: \hyperlink{class_function_definition}{Function\+Definition}, \hyperlink{class_unit_definition}{Unit\+Definition}, \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, \hyperlink{class_parameter}{Parameter}, \hyperlink{class_initial_assignment}{Initial\+Assignment}, \hyperlink{class_rule}{Rule}, \hyperlink{class_constraint}{Constraint}, \hyperlink{class_reaction}{Reaction} and \hyperlink{class_event}{Event}. Instances of the classes are placed inside instances of classes \hyperlink{class_list_of_function_definitions}{List\+Of\+Function\+Definitions}, \hyperlink{class_list_of_unit_definitions}{List\+Of\+Unit\+Definitions}, \hyperlink{class_list_of_compartments}{List\+Of\+Compartments}, \hyperlink{class_list_of_species}{List\+Of\+Species}, \hyperlink{class_list_of_parameters}{List\+Of\+Parameters}, \hyperlink{class_list_of_initial_assignments}{List\+Of\+Initial\+Assignments}, \hyperlink{class_list_of_rules}{List\+Of\+Rules}, \hyperlink{class_list_of_constraints}{List\+Of\+Constraints}, \hyperlink{class_list_of_reactions}{List\+Of\+Reactions}, and \hyperlink{class_list_of_events}{List\+Of\+Events}. 
\end{DoxyItemize}

Although all the lists are optional, there are dependencies between S\+B\+ML components such that defining some components requires defining others. An example is that defining a species requires defining a compartment, and defining a reaction requires defining a species. The dependencies are explained in more detail in the S\+B\+ML specifications.

In addition to the above lists and attributes, the \hyperlink{class_model}{Model} class in both S\+B\+ML Level~2 and Level~3 has the usual two attributes of \char`\"{}id\char`\"{} and \char`\"{}name\char`\"{}, and both are optional. As is the case for other S\+B\+ML components with \char`\"{}id\char`\"{} and \char`\"{}name\char`\"{} attributes, they must be used according to the guidelines described in the S\+B\+ML specifications. (Within the frameworks of S\+B\+ML Level~2 and Level~3, a \hyperlink{class_model}{Model} object identifier has no assigned meaning, but extension packages planned for S\+B\+ML Level~3 are likely to make use of this identifier.)

Finally, S\+B\+ML Level~3 has introduced a number of additional \hyperlink{class_model}{Model} attributes. They are discussed in a separate section below.\hypertarget{class_model_approaches}{}\subsection{Approaches to creating objects using the lib\+S\+B\+M\+L A\+PI}\label{class_model_approaches}
Lib\+S\+B\+ML provides two main mechanisms for creating objects\+: class constructors (e.\+g., Species\+::\+Species() ), and {\ttfamily create{\itshape Object}()} methods (such as Model\+::create\+Species()) provided by certain {\itshape Object} classes such as \hyperlink{class_model}{Model}. These multiple mechanisms are provided by lib\+S\+B\+ML for flexibility and to support different use-\/cases, but they also have different implications for the overall model structure.

In general, the recommended approach is to use the {\ttfamily create{\itshape Object}()} methods. These methods both create an object {\itshape and} link it to the parent in one step. Here is an example\+:

The {\ttfamily create{\itshape Object}()} methods return a pointer to the object created, but they also add the object to the relevant list of object instances contained in the parent. (These lists become the {\ttfamily $<$list\+Of{\itshape Object}s$>$} elements in the finished X\+ML rendition of S\+B\+ML.) In the example above, Model\+::create\+Species() adds the created species directly to the {\ttfamily $<$list\+Of\+Species$>$} list in the model. Subsequently, methods called on the species change the species in the model (which is what is expected in most situations).\hypertarget{class_model_model-checking}{}\subsection{Consistency and adherence to S\+B\+M\+L specifications}\label{class_model_model-checking}
To make it easier for applications to do whatever they need, lib\+S\+B\+ML version  is relatively lax when it comes to enforcing correctness and completeness of models {\itshape during} model construction and editing. Essentially, lib\+S\+B\+ML {\itshape will} {\itshape not} in most cases check automatically that a model\textquotesingle{}s components have valid attribute values, or that the overall model is consistent and free of errors---even obvious errors such as duplication of identifiers. This allows applications great leeway in how they build their models, but it means that software authors must take deliberate steps to ensure that the model will be, in the end, valid S\+B\+ML. These steps include such things as keeping track of the identifiers used in a model, manually performing updates in certain situations where an entity is referenced in more than one place (e.\+g., a species that is referenced by multiple \hyperlink{class_species_reference}{Species\+Reference} objects), and so on.

That said, lib\+S\+B\+ML does provide powerful features for deliberately performing validation of S\+B\+ML when an application decides it is time to do so. The interfaces to these facilities are on the \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} class, in the form of S\+B\+M\+L\+Document\+::check\+Internal\+Consistency() and S\+B\+M\+L\+Document\+::check\+Consistency(). Please refer to the documentation for \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} for more information about this.

While applications may play fast and loose and live like free spirits during the construction and editing of S\+B\+ML models, they should always make sure to call S\+B\+M\+L\+Document\+::check\+Internal\+Consistency() and/or S\+B\+M\+L\+Document\+::check\+Consistency() before writing out the final version of an S\+B\+ML model.\hypertarget{class_model_model-l3-attrib}{}\subsection{Model attributes introduced in S\+B\+M\+L LevelÂ 3}\label{class_model_model-l3-attrib}
As mentioned above, the \hyperlink{class_model}{Model} class has a number of optional attributes in S\+B\+ML Level~3. These are \char`\"{}substance\+Units\char`\"{}, \char`\"{}time\+Units\char`\"{}, \char`\"{}volume\+Units\char`\"{}, \char`\"{}area\+Units\char`\"{}, \char`\"{}length\+Units\char`\"{}, \char`\"{}extent\+Units\char`\"{}, and "conversion\+Factor. The following provide more information about them.\hypertarget{class_model_model-l3-substanceunits}{}\subsubsection{The \char`\"{}substance\+Units\char`\"{} attribute}\label{class_model_model-l3-substanceunits}
The \char`\"{}substance\+Units\char`\"{} attribute is used to specify the unit of measurement associated with substance quantities of \hyperlink{class_species}{Species} objects that do not specify units explicitly. If a given \hyperlink{class_species}{Species} object definition does not specify its unit of substance quantity via the \char`\"{}substance\+Units\char`\"{} attribute on the \hyperlink{class_species}{Species} object instance, then that species inherits the value of the \hyperlink{class_model}{Model} \char`\"{}substance\+Units\char`\"{} attribute. If the \hyperlink{class_model}{Model} does not define a value for this attribute, then there is no unit to inherit, and all species that do not specify individual \char`\"{}substance\+Units\char`\"{} attribute values then have {\itshape no} declared units for their quantities. The S\+B\+ML Level~3 specifications provide more details.

Note that when the identifier of a species appears in a model\textquotesingle{}s mathematical expressions, the unit of measurement associated with that identifier is {\itshape not solely determined} by setting \char`\"{}substance\+Units\char`\"{} on \hyperlink{class_model}{Model} or \hyperlink{class_species}{Species}. Please see the discussion about units given in the documentation for the \hyperlink{class_species}{Species} class.\hypertarget{class_model_model-l3-timeunits}{}\subsubsection{The \char`\"{}time\+Units\char`\"{} attribute}\label{class_model_model-l3-timeunits}
The \char`\"{}time\+Units\char`\"{} attribute on S\+B\+ML Level~3\textquotesingle{}s \hyperlink{class_model}{Model} object is used to specify the unit in which time is measured in the model. This attribute on \hyperlink{class_model}{Model} is the {\itshape only} way to specify a unit for time in a model. It is a global attribute; time is measured in the model everywhere in the same way. This is particularly relevant to \hyperlink{class_reaction}{Reaction} and \hyperlink{class_rate_rule}{Rate\+Rule} objects in a model\+: all \hyperlink{class_reaction}{Reaction} and \hyperlink{class_rate_rule}{Rate\+Rule} objects in S\+B\+ML define per-\/time values, and the unit of time is given by the \char`\"{}time\+Units\char`\"{} attribute on the \hyperlink{class_model}{Model} object instance. If the \hyperlink{class_model}{Model} \char`\"{}time\+Units\char`\"{} attribute has no value, it means that the unit of time is not defined for the model\textquotesingle{}s reactions and rate rules. Leaving it unspecified in an S\+B\+ML model does not result in an invalid model in S\+B\+ML Level~3; however, as a matter of best practice, we strongly recommend that all models specify units of measurement for time.\hypertarget{class_model_model-l3-voletc}{}\subsubsection{The \char`\"{}volume\+Units\char`\"{}, \char`\"{}area\+Units\char`\"{}, and \char`\"{}length\+Units\char`\"{} attributes}\label{class_model_model-l3-voletc}
The attributes \char`\"{}volume\+Units\char`\"{}, \char`\"{}area\+Units\char`\"{} and \char`\"{}length\+Units\char`\"{} together are used to set the units of measurements for the sizes of \hyperlink{class_compartment}{Compartment} objects in an S\+B\+ML Level~3 model when those objects do not otherwise specify units. The three attributes correspond to the most common cases of compartment dimensions\+: \char`\"{}volume\+Units\char`\"{} for compartments having a \char`\"{}spatial\+Dimensions\char`\"{} attribute value of {\ttfamily \char`\"{}3\char`\"{}}, \char`\"{}area\+Units\char`\"{} for compartments having a \char`\"{}spatial\+Dimensions\char`\"{} attribute value of {\ttfamily \char`\"{}2\char`\"{}}, and \char`\"{}length\+Units\char`\"{} for compartments having a \char`\"{}spatial\+Dimensions\char`\"{} attribute value of {\ttfamily \char`\"{}1\char`\"{}}. The attributes are not applicable to compartments whose \char`\"{}spatial\+Dimensions\char`\"{} attribute values are {\itshape not} one of {\ttfamily \char`\"{}1\char`\"{}}, {\ttfamily \char`\"{}2\char`\"{}} or {\ttfamily \char`\"{}3\char`\"{}}.

If a given \hyperlink{class_compartment}{Compartment} object instance does not provide a value for its \char`\"{}units\char`\"{} attribute, then the unit of measurement of that compartment\textquotesingle{}s size is inherited from the value specified by the \hyperlink{class_model}{Model} \char`\"{}volume\+Units\char`\"{}, \char`\"{}area\+Units\char`\"{} or \char`\"{}length\+Units\char`\"{} attribute, as appropriate based on the \hyperlink{class_compartment}{Compartment} object\textquotesingle{}s \char`\"{}spatial\+Dimensions\char`\"{} attribute value. If the \hyperlink{class_model}{Model} object does not define the relevant attribute, then there are no units to inherit, and all \hyperlink{class_compartment}{Compartment} objects that do not set a value for their \char`\"{}units\char`\"{} attribute then have {\itshape no} units associated with their compartment sizes.

The use of three separate attributes is a carry-\/over from S\+B\+ML Level~2. Note that it is entirely possible for a model to define a value for two or more of the attributes \char`\"{}volume\+Units\char`\"{}, \char`\"{}area\+Units\char`\"{} and \char`\"{}length\+Units\char`\"{} simultaneously, because S\+B\+ML models may contain compartments with different numbers of dimensions.\hypertarget{class_model_model-l3-extentunits}{}\subsubsection{The \char`\"{}extent\+Units\char`\"{} attribute}\label{class_model_model-l3-extentunits}
Reactions are processes that occur over time. These processes involve events of some sort, where a single ``reaction event\textquotesingle{}\textquotesingle{} is one in which some set of entities (known as reactants, products and modifiers in S\+B\+ML) interact, once. The {\itshape extent} of a reaction is a measure of how many times the reaction has occurred, while the time derivative of the extent gives the instantaneous rate at which the reaction is occurring. Thus, what is colloquially referred to as the \char`\"{}rate of the
   reaction\char`\"{} is in fact equal to the rate of change of reaction extent.

In S\+B\+ML Level~3, the combination of \char`\"{}extent\+Units\char`\"{} and \char`\"{}time\+Units\char`\"{} defines the units of kinetic laws in S\+B\+ML and establishes how the numerical value of each \hyperlink{class_kinetic_law}{Kinetic\+Law} object\textquotesingle{}s mathematical formula is meant to be interpreted in a model. The units of the kinetic laws are taken to be \char`\"{}extent\+Units\char`\"{} divided by \char`\"{}time\+Units\char`\"{}.

Note that this embodies an important principle in S\+B\+ML Level~3 models\+: {\itshape all reactions in an S\+B\+ML model must have the same units} for the rate of change of extent. In other words, the units of all reaction rates in the model {\itshape must be the same}. There is only one global value for \char`\"{}extent\+Units\char`\"{} and one global value for \char`\"{}time\+Units\char`\"{}.\hypertarget{class_model_model-l3-convfactor}{}\subsubsection{The \char`\"{}conversion\+Factor\char`\"{} attribute}\label{class_model_model-l3-convfactor}
The attribute \char`\"{}conversion\+Factor\char`\"{} in S\+B\+ML Level~3\textquotesingle{}s \hyperlink{class_model}{Model} object defines a global value inherited by all \hyperlink{class_species}{Species} object instances that do not define separate values for their \char`\"{}conversion\+Factor\char`\"{} attributes. The value of this attribute must refer to a \hyperlink{class_parameter}{Parameter} object instance defined in the model. The \hyperlink{class_parameter}{Parameter} object in question must be a constant; ie it must have its \char`\"{}constant\char`\"{} attribute value set to {\ttfamily \char`\"{}true\char`\"{}}.

If a given \hyperlink{class_species}{Species} object definition does not specify a conversion factor via the \char`\"{}conversion\+Factor\char`\"{} attribute on \hyperlink{class_species}{Species}, then the species inherits the conversion factor specified by the \hyperlink{class_model}{Model} \char`\"{}conversion\+Factor\char`\"{} attribute. If the \hyperlink{class_model}{Model} does not define a value for this attribute, then there is no conversion factor to inherit. More information about conversion factors is provided in the S\+B\+ML Level~3 specifications. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_model_8h}{Model.\+h}\end{DoxyCompactItemize}
