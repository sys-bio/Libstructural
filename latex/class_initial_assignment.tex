\hypertarget{class_initial_assignment}{}\section{Initial\+Assignment Class Reference}
\label{class_initial_assignment}\index{Initial\+Assignment@{Initial\+Assignment}}


{\ttfamily \#include $<$Initial\+Assignment.\+h$>$}



\subsection{Detailed Description}
\{core\} An S\+B\+ML {\itshape initial assignment}, evaluated once only.

S\+B\+ML Level 2 Versions 2--4 and S\+B\+ML Level~3 provide two ways of assigning initial values to entities in a model. The simplest and most basic is to set the values of the appropriate attributes in the relevant components; for example, the initial value of a model parameter (whether it is a constant or a variable) can be assigned by setting its \char`\"{}value\char`\"{} attribute directly in the model definition. However, this approach is not suitable when the value must be calculated, because the initial value attributes on different components such as species, compartments, and parameters are single values and not mathematical expressions. In those situations, the \hyperlink{class_initial_assignment}{Initial\+Assignment} construct can be used; it permits the calculation of the value of a constant or the initial value of a variable from the values of {\itshape other} quantities in a model.

As explained below, the provision of \hyperlink{class_initial_assignment}{Initial\+Assignment} does not mean that models necessarily must use this construct when defining initial values of quantities in a model. If a value can be set directly using the relevant attribute of a component in a model, then that approach may be more efficient and more portable to other software tools. \hyperlink{class_initial_assignment}{Initial\+Assignment} should be used when the other mechanism is insufficient for the needs of a particular model.

The \hyperlink{class_initial_assignment}{Initial\+Assignment} construct has some similarities to \hyperlink{class_assignment_rule}{Assignment\+Rule}. The main differences are\+: (a) an \hyperlink{class_initial_assignment}{Initial\+Assignment} can set the value of a constant whereas an \hyperlink{class_assignment_rule}{Assignment\+Rule} cannot, and (b) unlike \hyperlink{class_assignment_rule}{Assignment\+Rule}, an \hyperlink{class_initial_assignment}{Initial\+Assignment} definition only applies up to and including the beginning of simulation time, i.\+e., {\itshape t $\leq$ 0}, while an \hyperlink{class_assignment_rule}{Assignment\+Rule} applies at all times.

\hyperlink{class_initial_assignment}{Initial\+Assignment} has a required attribute, \char`\"{}symbol\char`\"{}, whose value must follow the guidelines for identifiers described in the S\+B\+ML specification (e.\+g., Section 3.\+3 in the Level 2 Version 4 specification). The value of this attribute in an \hyperlink{class_initial_assignment}{Initial\+Assignment} object can be the identifier of a \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, \hyperlink{class_species_reference}{Species\+Reference} (in S\+B\+ML Level~3), global \hyperlink{class_parameter}{Parameter}, or (as of S\+B\+ML Level~3 Version~2) the identifier of a S\+B\+ML Level~3 package element with mathematical meaning. The \hyperlink{class_initial_assignment}{Initial\+Assignment} defines the initial value of the constant or variable referred to by the \char`\"{}symbol\char`\"{} attribute. (The attribute\textquotesingle{}s name is \char`\"{}symbol\char`\"{} rather than \char`\"{}variable\char`\"{} because it may assign values to constants as well as variables in a model.) Note that an initial assignment cannot be made to reaction identifiers, that is, the \char`\"{}symbol\char`\"{} attribute value of an \hyperlink{class_initial_assignment}{Initial\+Assignment} cannot be an identifier that is the \char`\"{}id\char`\"{} attribute value of a \hyperlink{class_reaction}{Reaction} object in the model. This is identical to a restriction placed on rules.

\hyperlink{class_initial_assignment}{Initial\+Assignment} also has a \char`\"{}math\char`\"{} subelement that contains a Math\+ML expression used to calculate the value of the constant or the initial value of the variable. This subelement is required in S\+B\+ML Level~2 and S\+B\+ML Level~3 Version~1, but the requirement was relaxed in S\+B\+ML Level~3 Version~2, making it optional. The units of the value computed by the formula in the \char`\"{}math\char`\"{} subelement should (in S\+B\+ML Level~2 Version~4 and in S\+B\+ML Level~3) or must (in previous Versions) be identical to be the units associated with the identifier given in the \char`\"{}symbol\char`\"{} attribute. (That is, the units are the units of the species, compartment, or parameter, as appropriate for the kind of object identified by the value of \char`\"{}symbol\char`\"{}.)

\hyperlink{class_initial_assignment}{Initial\+Assignment} was introduced in S\+B\+ML Level 2 Version 2. It is not available in S\+B\+ML Level~2 Version~1 nor in any version of Level 1.\hypertarget{class_initial_assignment_initassign-semantics}{}\subsection{Semantics of Initial Assignments}\label{class_initial_assignment_initassign-semantics}
The value calculated by an \hyperlink{class_initial_assignment}{Initial\+Assignment} object overrides the value assigned to the given symbol by the object defining that symbol. For example, if a compartment\textquotesingle{}s \char`\"{}size\char`\"{} attribute is set in its definition, and the model also contains an \hyperlink{class_initial_assignment}{Initial\+Assignment} having that compartment\textquotesingle{}s identifier as its \char`\"{}symbol\char`\"{} attribute value, then the interpretation is that the \char`\"{}size\char`\"{} assigned in the \hyperlink{class_compartment}{Compartment} object should be ignored and the value assigned based on the computation defined in the \hyperlink{class_initial_assignment}{Initial\+Assignment}. Initial assignments can take place for \hyperlink{class_compartment}{Compartment}, \hyperlink{class_species}{Species}, global \hyperlink{class_parameter}{Parameter}, \hyperlink{class_species_reference}{Species\+Reference} (in Level~3), and S\+B\+ML Level~3 package elements (in Level~3 Version~2), regardless of the value of their \char`\"{}constant\char`\"{} attribute.

The actions of all \hyperlink{class_initial_assignment}{Initial\+Assignment} objects are in general terms the same, but differ in the precise details depending on the type of variable being set\+: 
\begin{DoxyItemize}
\item {\itshape In the case of a species}, an \hyperlink{class_initial_assignment}{Initial\+Assignment} sets the referenced species\textquotesingle{} initial quantity (concentration or amount of substance) to the value determined by the formula in the \char`\"{}math\char`\"{} subelement. The overall units of the formula should (in S\+B\+ML Level~2 Version~4 and in S\+B\+ML Level~3) or must (in previous Versions) be the same as the units specified for the species.


\item {\itshape In the case of a compartment}, an \hyperlink{class_initial_assignment}{Initial\+Assignment} sets the referenced compartment\textquotesingle{}s initial size to the size determined by the formula in \char`\"{}math\char`\"{}. The overall units of the formula should (in S\+B\+ML Level~2 Version~4 and in S\+B\+ML Level~3) or must (in previous Versions) be the same as the units specified for the size of the compartment.


\item {\itshape In the case of a parameter}, an \hyperlink{class_initial_assignment}{Initial\+Assignment} sets the referenced parameter\textquotesingle{}s initial value to that determined by the formula in \char`\"{}math\char`\"{}. The overall units of the formula should (in S\+B\+ML Level~2 Version~4 and S\+B\+ML Level~3) or must (in previous Versions) be the same as the units defined for the parameter.


\item (For S\+B\+ML Level~3 only) {\itshape In the case of a species reference}, an initial assignment sets the initial value of the stoichiometry of the referenced reactant or product to the value determined by the formula in \char`\"{}math\char`\"{}. The unit associated with the value produced by the \char`\"{}math\char`\"{} formula should be consistent with the unit \char`\"{}dimensionless\char`\"{}, because reactant and product stoichiometries in reactions are dimensionless quantities.


\item (For S\+B\+ML Level~3 Version~2 only) {\itshape In the case of an object from an S\+B\+ML Level~3 package}, an \hyperlink{class_initial_assignment}{Initial\+Assignment} sets the referenced object\textquotesingle{}s initial value (however such values are defined by the package) to the value of the formula in math. The unit of measurement associated with the value produced by the formula should be the same as that object\textquotesingle{}s units attribute value (if it has such an attribute), or be equal to the units of model components of that type (if objects of that class are defined by the package as having the same units).


\end{DoxyItemize}

If the symbol attribute of an \hyperlink{class_initial_assignment}{Initial\+Assignment} object references an object in an S\+B\+ML namespace that is not understood by the interpreter reading a given S\+B\+ML document (that is, if the object is defined by an S\+B\+ML Level~3 package that the software does not support), the assignment must be ignored--the object\textquotesingle{}s initial value will not need to be set, as the interpreter could not understand that package. If an interpreter cannot establish whether a referenced object is missing from the model or instead is defined in an S\+B\+ML namespace not understood by the interpreter, it may produce a warning to the user. (The latter situation may only arise if an S\+B\+ML package is present in the S\+B\+ML document with a package\+:required attribute of \char`\"{}true\char`\"{}.)

In the context of a simulation, initial assignments establish values that are in effect prior to and including the start of simulation time, i.\+e., {\itshape t $\leq$ 0}. Section 3.\+4.\+8 in the S\+B\+ML Level~2 Version~4 and S\+B\+ML Level~3 specifications provides information about the interpretation of assignments, rules, and entity values for simulation time up to and including the start time {\itshape t = 0}; this is important for establishing the initial conditions of a simulation if the model involves expressions containing the {\itshape delay} \char`\"{}csymbol\char`\"{}.

There cannot be two initial assignments for the same symbol in a model; that is, a model must not contain two or more \hyperlink{class_initial_assignment}{Initial\+Assignment} objects that both have the same identifier as their \char`\"{}symbol\char`\"{} attribute value. A model must also not define initial assignments {\itshape and} assignment rules for the same entity. That is, there cannot be {\itshape both} an \hyperlink{class_initial_assignment}{Initial\+Assignment} and an \hyperlink{class_assignment_rule}{Assignment\+Rule} for the same symbol in a model, because both kinds of constructs apply prior to and at the start of simulated time---allowing both to exist for a given symbol would result in indeterminism).

The ordering of \hyperlink{class_initial_assignment}{Initial\+Assignment} objects is not significant. The combined set of \hyperlink{class_initial_assignment}{Initial\+Assignment}, \hyperlink{class_assignment_rule}{Assignment\+Rule} and \hyperlink{class_kinetic_law}{Kinetic\+Law} objects form a set of assignment statements that must be considered as a whole. The combined set of assignment statements should not contain algebraic loops\+: a chain of dependency between these statements should terminate. (More formally, consider the directed graph of assignment statements where nodes are a model\textquotesingle{}s assignment statements and directed arcs exist for each occurrence of a symbol in an assignment statement \char`\"{}math\char`\"{} attribute. The directed arcs in this graph start from the statement assigning the symbol and end at the statement that contains the symbol in their math elements. Such a graph must be acyclic.)

Finally, it is worth being explicit about the expected behavior in the following situation. Suppose (1) a given symbol has a value {\itshape x} assigned to it in its definition, and (2) there is an initial assignment having the identifier as its \char`\"{}symbol\char`\"{} value and reassigning the value to {\itshape y}, {\itshape and} (3) the identifier is also used in the mathematical formula of a second initial assignment. What value should the second initial assignment use? It is {\itshape y}, the value assigned to the symbol by the first initial assignment, not whatever value was given in the symbol\textquotesingle{}s definition. This follows directly from the behavior described above\+: if an \hyperlink{class_initial_assignment}{Initial\+Assignment} object exists for a given symbol, then the symbol\textquotesingle{}s value is overridden by that initial assignment. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_initial_assignment_8h}{Initial\+Assignment.\+h}\end{DoxyCompactItemize}
