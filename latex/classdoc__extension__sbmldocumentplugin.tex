\hypertarget{classdoc__extension__sbmldocumentplugin}{}\section{doc\+\_\+extension\+\_\+sbmldocumentplugin Class Reference}
\label{classdoc__extension__sbmldocumentplugin}\index{doc\+\_\+extension\+\_\+sbmldocumentplugin@{doc\+\_\+extension\+\_\+sbmldocumentplugin}}


{\ttfamily \#include $<$common-\/documentation.\+h$>$}



\subsection{Detailed Description}
\begin{DoxyParagraph}{}
The following subsections detail the basic steps necessary to use \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} to extend \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} for a given package extension.
\end{DoxyParagraph}


The specification for a S\+B\+ML Level~3 package will define the changes to the S\+B\+ML {\ttfamily $<$sbml$>$} element. Packages typically do not make any changes beyond adding an attribute named \char`\"{}required\char`\"{} (discussed below), so in most cases, the extension of \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} is very simple. However, some packages do more. For instance, the Hierarchical Model Composition package adds subobjects for lists of model definitions. \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} supports all these cases.

A package extension will only define one subclass of \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin}. Below, we describe in detail the different parts of a subclass definition.

The derived class must override the constructor, copy constructor, assignment operator ({\ttfamily operator=}) and {\ttfamily clone()} methods from \hyperlink{class_s_base_plugin}{S\+Base\+Plugin}.

At minimum, it is necessary for a package implementation to add the \char`\"{}required\char`\"{} attribute to the S\+B\+ML {\ttfamily $<$sbml$>$} element mandated by S\+B\+ML for all Level~3 packages, and this is done using this class as a base. If the \textquotesingle{}required\textquotesingle{} attribute is the {\itshape only} addition necessary for a particular S\+B\+ML Level~3 package, then the subclass of \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} for the package can have a very simple implementation. Some Level~3 packages add additional attributes or elements to {\ttfamily $<$sbml$>$}, and their implementations would go into the subclassed \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin}.

\hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} provides methods with default implementations that support managing the \char`\"{}required\char`\"{} attribute, so package extension code does not need to provide implementations---they only need to set the correct value for the S\+B\+ML Level~3 package based on its specification. The following are the virtual methods for working with the \char`\"{}required\char`\"{} attribute. Package extensions would only need to override them in special circumstances\+:

\begin{DoxyItemize}
\item {\ttfamily set\+Required(bool value)}\+: This method sets the value of the flag.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily get\+Required()}\+: This method gets the value of the \char`\"{}required\char`\"{} flag.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily is\+Set\+Required()}\+: This method tests if the value has been set.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily unset\+Required()}\+: This method unsets the value of the \char`\"{}required\char`\"{} flag.\end{DoxyItemize}


An extended \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} object may need more than just the \char`\"{}required\char`\"{} attribute, depending on what is defined in the specification for the package being implemented. Data attributes on the extended {\ttfamily $<$sbml$>$} object in an S\+B\+ML package will have one of the data types {\ttfamily std\+::string}, {\ttfamily double}, {\ttfamily int}, or {\ttfamily bool}. Subelements/subobjects will normally be derived from the \hyperlink{class_list_of}{List\+Of} class or from \hyperlink{class_s_base}{S\+Base}.

The additional data members must be properly initialized in the class constructor, and must be properly copied in the copy constructor and assignment operator.

If the extended component is defined by the S\+B\+ML Level~3 package to have attributes, then the extended \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} class definition needs to override the following internal methods that come from \hyperlink{class_s_base_plugin}{S\+Base\+Plugin} (the base class of \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin}) and provide appropriate implementations\+:

\begin{DoxyItemize}
\item {\ttfamily add\+Expected\+Attributes(\+Expected\+Attributes\& attributes)}\+: This method should add the attributes that are expected to be found on this kind of extended component in an S\+B\+ML file or data stream.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily read\+Attributes(\hyperlink{class_x_m_l_attributes}{X\+M\+L\+Attributes}\& attributes, Expected\+Attributes\& expected\+Attributes)}\+: This method should read the attributes expected to be found on this kind of extended component in an S\+B\+ML file or data stream.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily has\+Required\+Attributes()}\+: This method should return {\ttfamily true} if all of the required attribute for this extended component are present on instance of the object.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily write\+Attributes(\+X\+M\+L\+Output\+Stream\& stream)}\+: This method should write out the attributes of an extended component. The implementation should use the different kinds of {\ttfamily write\+Attribute} methods defined by \hyperlink{class_x_m_l_output_stream}{X\+M\+L\+Output\+Stream} to achieve this.\end{DoxyItemize}


If the extended component is defined by the Level~3 package to have subcomponents (i.\+e., full X\+ML elements rather than mere attributes), then the extended class definition needs to override the following internal methods on \hyperlink{class_s_base_plugin}{S\+Base\+Plugin} (the base class of \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin}) and provide appropriate implementations\+:

\begin{DoxyItemize}
\item {\ttfamily create\+Object(\+X\+M\+L\+Input\+Stream\& stream)}\+: Subclasses must override this method to create, store, and then return an S\+B\+ML object corresponding to the next \hyperlink{class_x_m_l_token}{X\+M\+L\+Token} in the \hyperlink{class_x_m_l_input_stream}{X\+M\+L\+Input\+Stream}. To do this, implementations can use methods like {\ttfamily peek()} on \hyperlink{class_x_m_l_input_stream}{X\+M\+L\+Input\+Stream} to test if the next object in the stream is something expected for the package. For example, Layout\+Model\+Plugin uses {\ttfamily peek()} to examine the next element in the input stream, then tests that element against the Layout namespace and the element name {\ttfamily \char`\"{}list\+Of\+Layouts\char`\"{}} to see if it\textquotesingle{}s the single subcomponent (List\+Of\+Layouts) permitted on a \hyperlink{class_model}{Model} object using the Layout package. If it is, it returns the appropriate object.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily connect\+To\+Parent(\+S\+Base $\ast$sbase)}\+: This creates a parent-\/child relationship between a given extended component and its subcomponent(s).\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily set\+S\+B\+M\+L\+Document(\+S\+B\+M\+L\+Document$\ast$ d)}\+: This method should set the parent \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} object on the subcomponent object instances, so that the subcomponent instances know which \hyperlink{class_s_b_m_l_document}{S\+B\+M\+L\+Document} contains them.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily enable\+Package\+Internal(std\+::string\& pkg\+U\+RI, std\+::string\& pkg\+Prefix, bool flag)}\+: This method should enable or disable the subcomponent based on whether a given X\+ML namespace is active.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily write\+Elements(\+X\+M\+L\+Output\+Stream\& stream)}\+: This method must be overridden to provide an implementation that will write out the expected subcomponents/subelements to the X\+ML output stream.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily read\+Other\+X\+M\+L(\+S\+Base$\ast$ parent\+Object, X\+M\+L\+Input\+Stream\& stream)}\+: This function should be overridden if elements of annotation, notes, Math\+ML content, etc., need to be directly parsed from the given \hyperlink{class_x_m_l_input_stream}{X\+M\+L\+Input\+Stream} object.\end{DoxyItemize}
\begin{DoxyItemize}
\item {\ttfamily has\+Required\+Elements()}\+: This method should return {\ttfamily true} if a given object contains all the required subcomponents defined by the specification for that S\+B\+ML Level~3 package.\end{DoxyItemize}


If the package needs to add additional {\ttfamily xmlns} attributes to declare additional X\+ML namespace U\+R\+Is, the extended class should override the following method coming from \hyperlink{class_s_base_plugin}{S\+Base\+Plugin} (the parent class of \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin})\+:

\begin{DoxyItemize}
\item {\ttfamily write\+X\+M\+L\+N\+S(\+X\+M\+L\+Output\+Stream\& stream)}\+: This method should write out any additional X\+ML namespaces that might be needed by a package implementation.\end{DoxyItemize}


Extended \hyperlink{class_s_b_m_l_document_plugin}{S\+B\+M\+L\+Document\+Plugin} implementations can add whatever additional utility methods are useful for their implementation. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{common-documentation_8h}{common-\/documentation.\+h}\end{DoxyCompactItemize}
