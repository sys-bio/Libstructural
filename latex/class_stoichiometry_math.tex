\hypertarget{class_stoichiometry_math}{}\section{Stoichiometry\+Math Class Reference}
\label{class_stoichiometry_math}\index{Stoichiometry\+Math@{Stoichiometry\+Math}}


{\ttfamily \#include $<$Stoichiometry\+Math.\+h$>$}



\subsection{Detailed Description}
\{core\} Stochiometry expressions in S\+B\+ML Level 2 reactions.\hypertarget{class_stoichiometry_math_l2-stoichiometries}{}\subsection{Stoichiometries in S\+B\+M\+L Level 2}\label{class_stoichiometry_math_l2-stoichiometries}
In S\+B\+ML Level 2, product and reactant stoichiometries can be specified using {\itshape either} the \char`\"{}stoichiometry\char`\"{} attribute or a \char`\"{}stoichiometry\+Math\char`\"{} element in a \hyperlink{class_species_reference}{Species\+Reference} object. The \char`\"{}stoichiometry\char`\"{} attribute is of type {\ttfamily double} and should contain values greater than zero (0). The \char`\"{}stoichiometry\+Math\char`\"{} element is implemented as an element containing a Math\+ML expression. These two are mutually exclusive; only one of \char`\"{}stoichiometry\char`\"{} or \char`\"{}stoichiometry\+Math\char`\"{} should be defined in a given \hyperlink{class_species_reference}{Species\+Reference} instance. When neither the attribute nor the element is present, the value of \char`\"{}stoichiometry\char`\"{} in the enclosing \hyperlink{class_species_reference}{Species\+Reference} instance defaults to {\ttfamily 1}.

For maximum interoperability, \hyperlink{class_species_reference}{Species\+Reference}\textquotesingle{}s \char`\"{}stoichiometry\char`\"{} attribute should be used in preference to \char`\"{}stoichiometry\+Math\char`\"{} when a species\textquotesingle{} stoichiometry is a simple scalar number (integer or decimal). When the stoichiometry is a rational number, or when it is a more complicated formula, \char`\"{}stoichiometry\+Math\char`\"{} must be used. The Math\+ML expression in \char`\"{}stoichiometry\+Math\char`\"{} may also refer to identifiers of entities in a model (except reaction identifiers). However, the only species identifiers that can be used in \char`\"{}stoichiometry\+Math\char`\"{} are those referenced in the enclosing \hyperlink{class_reaction}{Reaction}\textquotesingle{}s list of reactants, products and modifiers.

The \char`\"{}stoichiometry\char`\"{} attribute and the \char`\"{}stoichiometry\+Math\char`\"{} element, when either is used, is each interpreted as a factor applied to the reaction rate to produce the rate of change of the species identified by the \char`\"{}species\char`\"{} attribute in the enclosing \hyperlink{class_species_reference}{Species\+Reference}. This is the normal interpretation of a stoichiometry, but in S\+B\+ML, one additional consideration has to be taken into account. The reaction rate, which is the result of the \hyperlink{class_kinetic_law}{Kinetic\+Law}\textquotesingle{}s \char`\"{}math\char`\"{} element, is always in the model\textquotesingle{}s {\itshape substance} per {\itshape time} units. However, the rate of change of the species will involve the species\textquotesingle{} {\itshape substance} units (i.\+e., the units identified by the \hyperlink{class_species}{Species} object\textquotesingle{}s \char`\"{}substance\+Units\char`\"{} attribute), and these units may be different from the model\textquotesingle{}s default {\itshape substance} units. If the units {\itshape are} different, the stoichiometry must incorporate a conversion factor for converting the model\textquotesingle{}s {\itshape substance} units to the species\textquotesingle{} {\itshape substance} units. The conversion factor is assumed to be included in the scalar value of the \char`\"{}stoichiometry\char`\"{} attribute if \char`\"{}stoichiometry\char`\"{} is used. If instead \char`\"{}stoichiometry\+Math\char`\"{} is used, then the product of the model\textquotesingle{}s \char`\"{}substance\char`\"{} units times the \char`\"{}stoichiometry\+Math\char`\"{} units must match the {\itshape substance} units of the species. Note that in either case, if the species\textquotesingle{} units and the model\textquotesingle{}s default {\itshape substance} units are the same, the stoichiometry ends up being a dimensionless number and equivalent to the standard chemical stoichiometry found in textbooks. Examples and more explanations of this are given in the S\+B\+ML specification.

The following is a simple example of a species reference for species {\ttfamily \char`\"{}\+X0\char`\"{}}, with stoichiometry {\ttfamily 2}, in a list of reactants within a reaction having the identifier {\ttfamily \char`\"{}\+J1\char`\"{}}\+: \begin{DoxyVerb}<model>
    ...
    <listOfReactions>
        <reaction id="J1">
            <listOfReactants>
                <speciesReference species="X0" stoichiometry="2">
            </listOfReactants>
            ...
        </reaction>
        ...
    </listOfReactions>
    ...
</model>
\end{DoxyVerb}


The following is a more complex example of a species reference for species {\ttfamily \char`\"{}\+X0\char`\"{}}, with a stoichiometry formula consisting of a rational number\+: \begin{DoxyVerb}<model>
    ...
    <listOfReactions>
        <reaction id="J1">
            <listOfReactants>
                <speciesReference species="X0">
                    <stoichiometryMath>
                        <math xmlns="http://www.w3.org/1998/Math/MathML"> 
                            <cn type="rational"> 3 <sep/> 2 </cn>
                        </math>
                    </stoichiometryMath>
                </speciesReference>
            </listOfReactants>
            ...
        </reaction>
        ...
    </listOfReactions>
    ...
</model>
\end{DoxyVerb}


Additional discussions of stoichiometries and implications for species and reactions are included in the documentation of \hyperlink{class_species_reference}{Species\+Reference} class.\hypertarget{class_stoichiometry_math_l3-stoichiometries}{}\subsection{Stoichiometries in S\+B\+M\+L Level 3}\label{class_stoichiometry_math_l3-stoichiometries}
The \hyperlink{class_stoichiometry_math}{Stoichiometry\+Math} construct is not defined in S\+B\+ML Level~3. Instead, Level~3 defines the identifier of \hyperlink{class_species_reference}{Species\+Reference} objects as a stand-\/in for the stoichiometry of the reactant or product being referenced, and allows that identifier to be used elsewhere in S\+B\+ML models, including (for example) \hyperlink{class_initial_assignment}{Initial\+Assignment} objects. This makes it possible to achieve the same effect as \hyperlink{class_stoichiometry_math}{Stoichiometry\+Math}, but with other S\+B\+ML objects. For instance, to produce a stoichiometry value that is a rational number, a model can use \hyperlink{class_initial_assignment}{Initial\+Assignment} to assign the identifier of a \hyperlink{class_species_reference}{Species\+Reference} object to a Math\+ML expression evaluating to a rational number. This is analogous to the same way that, in Level~2, the model would use \hyperlink{class_stoichiometry_math}{Stoichiometry\+Math} with a Math\+ML expression evaluating to a rational number.

In S\+B\+ML Level 2, the stoichiometry of a reactant or product is a combination of both a {\itshape biochemical stoichiometry} (meaning, the standard stoichiometry of a species in a reaction) and any necessary unit conversion factors. The introduction of an explicit attribute on the \hyperlink{class_species}{Species} object for a conversion factor allows Level~3 to avoid having to overload the meaning of stoichiometry. In Level~3, the stoichiometry given by a \hyperlink{class_species_reference}{Species\+Reference} object in a reaction is a \char`\"{}proper\char`\"{} biochemical stoichiometry, meaning a dimensionless number free of unit conversions.

\begin{DoxySeeAlso}{See also}
\hyperlink{class_species_reference}{Species\+Reference} 

\hyperlink{class_reaction}{Reaction} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_stoichiometry_math_8h}{Stoichiometry\+Math.\+h}\end{DoxyCompactItemize}
