\hypertarget{classbzfilebuf}{}\section{bzfilebuf Class Reference}
\label{classbzfilebuf}\index{bzfilebuf@{bzfilebuf}}


bzip2 file stream buffer class.  




{\ttfamily \#include $<$bzfstream.\+h$>$}



Inherits streambuf.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classbzfilebuf}{bzfilebuf} $\ast$ \hyperlink{classbzfilebuf_adacbc3f52d2128792ff0c14e5201b3cd}{attach} (\hyperlink{lp__lib_8h_adeb9ec6400320e4923ac9d836d509ddb}{int} fd, std\+::ios\+\_\+base\+::openmode \hyperlink{ioapi_8h_ab77191763734fbb3e515371393ccb606}{mode})
\begin{DoxyCompactList}\small\item\em Attach to already open bzip2 file. \end{DoxyCompactList}\item 
\hyperlink{classbzfilebuf_a1fbb7d1be868faca37feff9594d0bf29}{bzfilebuf} ()
\item 
\hyperlink{classbzfilebuf}{bzfilebuf} $\ast$ \hyperlink{classbzfilebuf_a07ccdb23bcdb2f4cb4d554840427174a}{close} ()
\begin{DoxyCompactList}\small\item\em Close bzip2 file. \end{DoxyCompactList}\item 
bool \hyperlink{classbzfilebuf_adfaac599c0c4e62ad8a3f55080f135e5}{is\+\_\+open} () const
\begin{DoxyCompactList}\small\item\em Check if file is open. \end{DoxyCompactList}\item 
\hyperlink{classbzfilebuf}{bzfilebuf} $\ast$ \hyperlink{classbzfilebuf_a89ba3fdd6fd497f9165a2a3ea2d415d3}{open} (const char $\ast$\hyperlink{lp__lib_8h_a2946c588fc7fa2fa5b43ac54b7872725}{name}, std\+::ios\+\_\+base\+::openmode \hyperlink{ioapi_8h_ab77191763734fbb3e515371393ccb606}{mode})
\begin{DoxyCompactList}\small\item\em Open bzip2 file. \end{DoxyCompactList}\item 
virtual \hyperlink{classbzfilebuf_a3aa5be3f60dc3f5d62deeb49a038fe38}{$\sim$bzfilebuf} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classbzfilebuf_ac66986ba4c5da71eb693476fa1df6371}{open\+\_\+mode} (std\+::ios\+\_\+base\+::openmode \hyperlink{ioapi_8h_ab77191763734fbb3e515371393ccb606}{mode}, char $\ast$c\+\_\+mode) const
\begin{DoxyCompactList}\small\item\em Convert ios open mode int to mode string used by zlib. \end{DoxyCompactList}\item 
virtual int\+\_\+type \hyperlink{classbzfilebuf_aac23c07f79d6c8ba4406d01e3bf4cf56}{overflow} (int\+\_\+type c=std\+::streambuf\+::traits\+\_\+type\+::eof())
\begin{DoxyCompactList}\small\item\em Write put area to bzip2 file. \end{DoxyCompactList}\item 
virtual std\+::streambuf $\ast$ \hyperlink{classbzfilebuf_a0969887ed38fdcdcfc5817b2c5b6a711}{setbuf} (char\+\_\+type $\ast$p, std\+::streamsize n)
\begin{DoxyCompactList}\small\item\em Installs external stream buffer. \end{DoxyCompactList}\item 
virtual std\+::streamsize \hyperlink{classbzfilebuf_aa21eab2632749a91a1d9a6e7af6bbe34}{showmanyc} ()
\begin{DoxyCompactList}\small\item\em Number of characters available in stream buffer. \end{DoxyCompactList}\item 
virtual \hyperlink{lp__lib_8h_adeb9ec6400320e4923ac9d836d509ddb}{int} \hyperlink{classbzfilebuf_a75bcbd53c2acda4768c045777bc7baf2}{sync} ()
\begin{DoxyCompactList}\small\item\em Flush stream buffer to file. \end{DoxyCompactList}\item 
virtual int\+\_\+type \hyperlink{classbzfilebuf_a64837fcfe73bd81f226d0cdb47845ef8}{underflow} ()
\begin{DoxyCompactList}\small\item\em Fill get area from bzip2 file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
bzip2 file stream buffer class. 

This class implements basic\+\_\+filebuf for bzip2 files. It doesn\textquotesingle{}t yet support seeking (allowed by zlib but slow/limited), putback and read/write access (tricky). Otherwise, it attempts to be a drop-\/in replacement for the standard file streambuf. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classbzfilebuf_a1fbb7d1be868faca37feff9594d0bf29}\label{classbzfilebuf_a1fbb7d1be868faca37feff9594d0bf29}} 
\index{bzfilebuf@{bzfilebuf}!bzfilebuf@{bzfilebuf}}
\index{bzfilebuf@{bzfilebuf}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{bzfilebuf()}{bzfilebuf()}}
{\footnotesize\ttfamily bzfilebuf\+::bzfilebuf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{classbzfilebuf_a3aa5be3f60dc3f5d62deeb49a038fe38}\label{classbzfilebuf_a3aa5be3f60dc3f5d62deeb49a038fe38}} 
\index{bzfilebuf@{bzfilebuf}!````~bzfilebuf@{$\sim$bzfilebuf}}
\index{````~bzfilebuf@{$\sim$bzfilebuf}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{$\sim$bzfilebuf()}{~bzfilebuf()}}
{\footnotesize\ttfamily virtual bzfilebuf\+::$\sim$bzfilebuf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classbzfilebuf_adacbc3f52d2128792ff0c14e5201b3cd}\label{classbzfilebuf_adacbc3f52d2128792ff0c14e5201b3cd}} 
\index{bzfilebuf@{bzfilebuf}!attach@{attach}}
\index{attach@{attach}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{attach()}{attach()}}
{\footnotesize\ttfamily \hyperlink{classbzfilebuf}{bzfilebuf}$\ast$ bzfilebuf\+::attach (\begin{DoxyParamCaption}\item[{\hyperlink{lp__lib_8h_adeb9ec6400320e4923ac9d836d509ddb}{int}}]{fd,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode }\end{DoxyParamCaption})}



Attach to already open bzip2 file. 


\begin{DoxyParams}{Parameters}
{\em fd} & File descriptor. \\
\hline
{\em mode} & Open mode flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbzfilebuf_a07ccdb23bcdb2f4cb4d554840427174a}\label{classbzfilebuf_a07ccdb23bcdb2f4cb4d554840427174a}} 
\index{bzfilebuf@{bzfilebuf}!close@{close}}
\index{close@{close}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{close()}{close()}}
{\footnotesize\ttfamily \hyperlink{classbzfilebuf}{bzfilebuf}$\ast$ bzfilebuf\+::close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Close bzip2 file. 

\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbzfilebuf_adfaac599c0c4e62ad8a3f55080f135e5}\label{classbzfilebuf_adfaac599c0c4e62ad8a3f55080f135e5}} 
\index{bzfilebuf@{bzfilebuf}!is\+\_\+open@{is\+\_\+open}}
\index{is\+\_\+open@{is\+\_\+open}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{is\+\_\+open()}{is\_open()}}
{\footnotesize\ttfamily bool bzfilebuf\+::is\+\_\+open (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Check if file is open. 

\begin{DoxyReturn}{Returns}
True if file is open. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbzfilebuf_a89ba3fdd6fd497f9165a2a3ea2d415d3}\label{classbzfilebuf_a89ba3fdd6fd497f9165a2a3ea2d415d3}} 
\index{bzfilebuf@{bzfilebuf}!open@{open}}
\index{open@{open}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{open()}{open()}}
{\footnotesize\ttfamily \hyperlink{classbzfilebuf}{bzfilebuf}$\ast$ bzfilebuf\+::open (\begin{DoxyParamCaption}\item[{const char $\ast$}]{name,  }\item[{std\+::ios\+\_\+base\+::openmode}]{mode }\end{DoxyParamCaption})}



Open bzip2 file. 


\begin{DoxyParams}{Parameters}
{\em name} & File name. \\
\hline
{\em mode} & Open mode flags. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbzfilebuf_ac66986ba4c5da71eb693476fa1df6371}\label{classbzfilebuf_ac66986ba4c5da71eb693476fa1df6371}} 
\index{bzfilebuf@{bzfilebuf}!open\+\_\+mode@{open\+\_\+mode}}
\index{open\+\_\+mode@{open\+\_\+mode}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{open\+\_\+mode()}{open\_mode()}}
{\footnotesize\ttfamily bool bzfilebuf\+::open\+\_\+mode (\begin{DoxyParamCaption}\item[{std\+::ios\+\_\+base\+::openmode}]{mode,  }\item[{char $\ast$}]{c\+\_\+mode }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [protected]}}



Convert ios open mode int to mode string used by zlib. 

\begin{DoxyReturn}{Returns}
True if valid mode flag combination. 
\end{DoxyReturn}
\mbox{\Hypertarget{classbzfilebuf_aac23c07f79d6c8ba4406d01e3bf4cf56}\label{classbzfilebuf_aac23c07f79d6c8ba4406d01e3bf4cf56}} 
\index{bzfilebuf@{bzfilebuf}!overflow@{overflow}}
\index{overflow@{overflow}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{overflow()}{overflow()}}
{\footnotesize\ttfamily virtual int\+\_\+type bzfilebuf\+::overflow (\begin{DoxyParamCaption}\item[{int\+\_\+type}]{c = {\ttfamily std\+:\+:streambuf\+:\+:traits\+\_\+type\+:\+:eof()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Write put area to bzip2 file. 


\begin{DoxyParams}{Parameters}
{\em c} & Extra character to add to buffer contents. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Non-\/\+E\+OF on success, E\+OF on error.
\end{DoxyReturn}
This actually writes characters in stream buffer to bzip2 file. With unbuffered output this is done one character at a time. \mbox{\Hypertarget{classbzfilebuf_a0969887ed38fdcdcfc5817b2c5b6a711}\label{classbzfilebuf_a0969887ed38fdcdcfc5817b2c5b6a711}} 
\index{bzfilebuf@{bzfilebuf}!setbuf@{setbuf}}
\index{setbuf@{setbuf}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{setbuf()}{setbuf()}}
{\footnotesize\ttfamily virtual std\+::streambuf$\ast$ bzfilebuf\+::setbuf (\begin{DoxyParamCaption}\item[{char\+\_\+type $\ast$}]{p,  }\item[{std\+::streamsize}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Installs external stream buffer. 


\begin{DoxyParams}{Parameters}
{\em p} & Pointer to char buffer. \\
\hline
{\em n} & Size of external buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily this} on success, N\+U\+LL on failure.
\end{DoxyReturn}
Call setbuf(0,0) to enable unbuffered output. \mbox{\Hypertarget{classbzfilebuf_aa21eab2632749a91a1d9a6e7af6bbe34}\label{classbzfilebuf_aa21eab2632749a91a1d9a6e7af6bbe34}} 
\index{bzfilebuf@{bzfilebuf}!showmanyc@{showmanyc}}
\index{showmanyc@{showmanyc}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{showmanyc()}{showmanyc()}}
{\footnotesize\ttfamily virtual std\+::streamsize bzfilebuf\+::showmanyc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Number of characters available in stream buffer. 

\begin{DoxyReturn}{Returns}
Number of characters.
\end{DoxyReturn}
This indicates number of characters in get area of stream buffer. These characters can be read without accessing the bzip2 file. \mbox{\Hypertarget{classbzfilebuf_a75bcbd53c2acda4768c045777bc7baf2}\label{classbzfilebuf_a75bcbd53c2acda4768c045777bc7baf2}} 
\index{bzfilebuf@{bzfilebuf}!sync@{sync}}
\index{sync@{sync}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{sync()}{sync()}}
{\footnotesize\ttfamily virtual \hyperlink{lp__lib_8h_adeb9ec6400320e4923ac9d836d509ddb}{int} bzfilebuf\+::sync (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Flush stream buffer to file. 

\begin{DoxyReturn}{Returns}
0 on success, -\/1 on error.
\end{DoxyReturn}
This calls underflow(\+E\+O\+F) to do the job. \mbox{\Hypertarget{classbzfilebuf_a64837fcfe73bd81f226d0cdb47845ef8}\label{classbzfilebuf_a64837fcfe73bd81f226d0cdb47845ef8}} 
\index{bzfilebuf@{bzfilebuf}!underflow@{underflow}}
\index{underflow@{underflow}!bzfilebuf@{bzfilebuf}}
\subsubsection{\texorpdfstring{underflow()}{underflow()}}
{\footnotesize\ttfamily virtual int\+\_\+type bzfilebuf\+::underflow (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Fill get area from bzip2 file. 

\begin{DoxyReturn}{Returns}
First character in get area on success, E\+OF on error.
\end{DoxyReturn}
This actually reads characters from bzip2 file to stream buffer. Always buffered. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{bzfstream_8h}{bzfstream.\+h}\end{DoxyCompactItemize}
