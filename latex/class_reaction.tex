\hypertarget{class_reaction}{}\section{Reaction Class Reference}
\label{class_reaction}\index{Reaction@{Reaction}}


{\ttfamily \#include $<$Reaction.\+h$>$}



\subsection{Detailed Description}
\{core\} An S\+B\+ML reaction between species in an S\+B\+ML model.

A {\itshape reaction} represents any transformation, transport or binding process, typically a chemical reaction, that can change the quantity of one or more species. In S\+B\+ML, a reaction is defined primarily in terms of the participating reactants and products (and their corresponding stoichiometries), along with optional modifier species, an optional rate at which the reaction takes place, and optional parameters.

As with other major objects in S\+B\+ML, \hyperlink{class_reaction}{Reaction} has a mandatory attribute, \char`\"{}id\char`\"{}, used to give the compartment type an identifier. The identifier must be a text string conforming to the identifer syntax permitted in S\+B\+ML. In S\+B\+ML Level~2 and Level~3, the reaction \char`\"{}id\char`\"{} identifier can be used in mathematical formulas elsewhere in an S\+B\+ML model to represent the rate of that reaction; this usage is explained below. \hyperlink{class_reaction}{Reaction} also has an optional \char`\"{}name\char`\"{} attribute, of type {\ttfamily string}. The \char`\"{}id\char`\"{} and \char`\"{}name\char`\"{} must be used according to the guidelines described in the S\+B\+ML specification.

The species participating as reactants, products, and/or modifiers in a reaction are declared using lists of \hyperlink{class_species_reference}{Species\+Reference} and/or \hyperlink{class_modifier_species_reference}{Modifier\+Species\+Reference} instances stored in subelements \char`\"{}list\+Of\+Reactants\char`\"{}, \char`\"{}list\+Of\+Products\char`\"{} and \char`\"{}list\+Of\+Modifiers\char`\"{}. Certain restrictions are placed on the appearance of species in reaction definitions\+: 
\begin{DoxyItemize}
\item The ability of a species to appear as a reactant or product of any reaction in a model is governed by certain flags in that species\textquotesingle{} definition; see the definition of \hyperlink{class_species}{Species} for more information.


\item Any species appearing in the mathematical formula of the subelement \char`\"{}kinetic\+Law\char`\"{} (described below) of a \hyperlink{class_reaction}{Reaction} must be declared in at least one of that \hyperlink{class_reaction}{Reaction}\textquotesingle{}s lists of reactants, products, and/or modifiers. Put another way, it is an error for a reaction\textquotesingle{}s kinetic law formula to refer to species that have not been declared for that reaction.


\item For S\+B\+ML Levels 1, 2, and S\+B\+ML Level~3 Version~1, a reaction definition can contain an empty list of reactants {\itshape or} an empty list of products, but it must have at least one reactant or product; in other words, a reaction without any reactant or product species is not permitted. (This restriction does not apply to modifier species, which remain optional in all cases.) In S\+B\+ML Level~3 Version~2, this requirement was dropped, allowing the creation of reactions with neither reactants nor products. 
\end{DoxyItemize}

A reaction can contain up to one \hyperlink{class_kinetic_law}{Kinetic\+Law} object in a subelement named \char`\"{}kinetic\+Law\char`\"{}. It defines the speed at which the process defined by the reaction takes place. The description of \hyperlink{class_kinetic_law}{Kinetic\+Law} provides more details about its use. Note that although the inclusion of a \hyperlink{class_kinetic_law}{Kinetic\+Law} object in an instance of a \hyperlink{class_reaction}{Reaction} component is optional, there is no useful default that can be substituted in place of a missing rate expression in a reaction. Moreover, a reaction\textquotesingle{}s rate cannot be defined in any other way in S\+B\+ML---\hyperlink{class_initial_assignment}{Initial\+Assignment}, \hyperlink{class_assignment_rule}{Assignment\+Rule}, \hyperlink{class_rate_rule}{Rate\+Rule}, \hyperlink{class_algebraic_rule}{Algebraic\+Rule}, \hyperlink{class_event}{Event}, and other constructs in S\+B\+ML cannot be used to set the reaction rate separately. Nevertheless, for some modeling applications, reactions without any defined rate can be perfectly acceptable.

\hyperlink{class_reaction}{Reaction} also has a boolean attribute named \char`\"{}reversible\char`\"{} for indicating whether the reaction is reversible. This attribute is optional in S\+B\+ML Level~2, with a default of {\ttfamily true}; it is mandatory in S\+B\+ML Level~3 (with no default value). To say that a reaction is {\itshape reversible} is to say it can proceed in either the forward or the reverse direction. Although the reversibility of a reaction can sometimes be deduced by inspecting its rate expression, this is not always the case, especially for complicated expressions. Moreover, the need in S\+B\+ML to allow rate expressions (i.\+e., \hyperlink{class_kinetic_law}{Kinetic\+Law}) to be optional leads to the need for a separate flag indicating reversibility. Note that labeling a reaction as irreversible is an assertion that the reaction always proceeds in the given forward direction. (Why else would it be flagged as irreversible?) This implies the rate expression in the \hyperlink{class_kinetic_law}{Kinetic\+Law} always has a non-\/negative value during simulations. Software tools could provide a means of optionally testing that this condition holds. The presence of reversibility information in two places (i.\+e., the rate expression and the \char`\"{}reversible\char`\"{} attribute on \hyperlink{class_reaction}{Reaction}) leaves open the possibility that a model could contain contradictory information, but the creation of such a model would be an error on the part of the software generating it.

The \hyperlink{class_reaction}{Reaction} object class has another boolean attribute called \char`\"{}fast\char`\"{}. This attribute is optional in S\+B\+ML Level~2, with a default of {\ttfamily false}; it is mandatory in S\+B\+ML Level~3 (with no default value). In S\+B\+ML Level~3 Version~2, a value of {\ttfamily true} for the \char`\"{}fast\char`\"{} attribute is deprecated in favor of all reactions having a \char`\"{}fast\char`\"{} value of {\ttfamily false}. It is used to indicate that a reaction occurs on a vastly faster time scale than others in a system. Readers are directed to the S\+B\+ML Level~2 Version~4 specification, which provides more detail about the conditions under which a reaction can be considered to be fast in this sense. S\+B\+ML Level~1 and Level~2 Version~1 incorrectly claimed that software tools could ignore this attribute if they did not implement support for the corresponding concept; however, further research in S\+B\+ML has revealed that this is not true, and \char`\"{}fast\char`\"{} {\itshape cannot be ignored} if it is set to {\ttfamily true}. S\+B\+ML Level~2 Versions~2--4 therefore stipulate that if a model has any reactions with \char`\"{}fast\char`\"{} set to {\ttfamily true}, a software tool must be able to respect the attribute or else indicate to the user that it does not have the capacity to do so. Analysis software cannot ignore the value of the \char`\"{}fast\char`\"{} attribute because doing so may lead to different results as compared to a software system that {\itshape does} make use of \char`\"{}fast\char`\"{}.

\begin{DoxyParagraph}{}
In S\+B\+ML Level~3 Version~2, values of {\ttfamily true} for the \char`\"{}fast\char`\"{} attribute were deprecated, and in future versions of the specification, the attribute itself will be removed. Users should be aware that even for previous levels/versions of the specification, the \char`\"{}fast\char`\"{} attribute has never achieved widespread support, and many software packages may ignore it. To achieve the same or similar effects as setting the fast attribute to \char`\"{}true\char`\"{} for a given reaction, the \hyperlink{class_kinetic_law}{Kinetic\+Law} attribute should be constructed to produce a value in the desired time scale, or else the reaction could be replaced with an \hyperlink{class_assignment_rule}{Assignment\+Rule} or \hyperlink{class_algebraic_rule}{Algebraic\+Rule}.
\end{DoxyParagraph}
In S\+B\+ML Level~3, the \hyperlink{class_reaction}{Reaction} object has an additional optional attribute named \char`\"{}compartment\char`\"{}, whose value must be the identifier of a compartment defined in the enclosing \hyperlink{class_model}{Model} object. The \char`\"{}compartment\char`\"{} attribute can be used to indicate the compartment in which the reaction is assumed to take place. If the attribute is present, its value must be the identifier of a \hyperlink{class_compartment}{Compartment} object defined in the enclosing \hyperlink{class_model}{Model} object. Similar to the \char`\"{}reversible\char`\"{} attribute, the value of the \char`\"{}compartment\char`\"{} attribute has no direct impact on the construction of mathematical equations for the S\+B\+ML model. When a kinetic law is given for a reaction, the compartment location may already be implicit in the kinetic law (although this cannot always be guaranteed). Nevertheless, software tools may find the \char`\"{}compartment\char`\"{} attribute value useful for such purposes as analyzing the structure of the model, guiding the modeler in constructing correct rate formulas, and visualization purposes.

Readers are urged to read the S\+B\+ML specification for more details about the proper use of \hyperlink{class_reaction}{Reaction}. 

The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_reaction_8h}{Reaction.\+h}\end{DoxyCompactItemize}
