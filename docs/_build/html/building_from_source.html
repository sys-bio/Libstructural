

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building From Source &mdash; Libstructural 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Libstructural 1.0.0 documentation" href="index.html"/>
        <link rel="next" title="Getting Started with LibStructural" href="libstruct_examples.html"/>
        <link rel="prev" title="Installation" href="installation.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Libstructural
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building From Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#windows">Windows</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-libsbml">Building libSBML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-libstructural">Building LibStructural</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#mac">Mac</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-clapack">Building CLAPACK</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">Building libSBML</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Building LibStructural</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="libstruct_examples.html">Getting Started with LibStructural</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Libstructural</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Building From Source</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/building_from_source.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-from-source">
<h1>Building From Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h1>
<p>The LibStructural API library can be built on your machine from the source code found on <a class="reference external" href="https://github.com/yosefmaru/Libstructural">github</a>. To build LibStructural, you will need:</p>
<ul class="simple">
<li>The LibStructural source code and dependencies from github (you will need <a class="reference external" href="https://git-scm.com/">git</a> to clone/download the repo).</li>
<li>libSBML <a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/win-dependencies/">dependencies package</a>. Make sure to get the vs15_release_x64 version.</li>
<li><a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/5.15.0/stable/">libSBML version 5.15.0</a> source code. Get the “libSBML-5.15.0-core-src.zip” version.</li>
<li><a class="reference external" href="https://cmake.org/files/v3.9/">CMake version 3.9.3</a> for generating solution files.</li>
<li>Visual Studio 2017 for Windows or Xcode for MacOS</li>
<li>Python 2.7 for generating a python wrapper (optional)</li>
<li><a class="reference external" href="http://www.swig.org/">SWIG</a> for generating python wrappers in Windows (optional).</li>
</ul>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>First, clone/download the Libstructural source code from the <a class="reference external" href="https://github.com/yosefmaru/Libstructural">github repo</a> by running the following command from the command line or git software:</p>
<p><code class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/yosefmaru/Libstructural</span></code></p>
<p>Prior to building LibStructural on Windows, binaries for libSBML needs to be generated first. To do this you, will need a libSBML <a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/win-dependencies/libSBML_dependencies_vs15_release_x64.zip/download">dependencies package</a> and <a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/5.15.0/stable/libSBML-5.15.0-core-src.zip/download">source code</a>. An issue on Windows concerns the dependency libraries on which libSBML depends. CMake will try to find all the dependencies for the default options, which leads to problems if they do not exist.</p>
<ol class="arabic simple">
<li>Extract the dependencies folder you downloaded into the same folder where you unpacked the libSBML source distribution. CMake will look for these dependencies in a folder called “dependencies” directly below the libSBML root folder.</li>
<li>rename the extracted libsbml dependencies folder from it’s default name to “dependencies”.</li>
</ol>
<div class="align-center figure">
<img alt="_images/libSBML_dependencies.JPG" src="_images/libSBML_dependencies.JPG" />
</div>
<ol class="arabic simple" start="3">
<li>Once you have the libSBML sources and the dependency libraries unpacked on your system, start up the CMake graphical user interface (GUI).</li>
</ol>
<div class="section" id="building-libsbml">
<h3>Building libSBML<a class="headerlink" href="#building-libsbml" title="Permalink to this headline">¶</a></h3>
<p>A detailed step-by-step instruction can be found on this <a class="reference external" href="http://sbml.org/Software/libSBML/5.16.0/docs//cpp-api/libsbml-installation.html">link</a> on how to generate a solution file using CMake and build libSBML libraries on Visual Studio.</p>
<ol class="arabic simple">
<li>To be consistent with building LibStructural instructions, make sure to select “Visual Studio 15 2017 Win64” when selecting a generator on CMake.</li>
<li>Copy the directory inside “Where is the source code” inquiry to the CMAKE_INSTALL_PREFIX option and add “/libsbml-vs2017-release-64” to it as shown below.</li>
</ol>
<div class="align-center figure">
<img alt="_images/libsbml_install_prefix.JPG" src="_images/libsbml_install_prefix.JPG" />
</div>
<ol class="arabic simple" start="3">
<li>After generating the solution file make sure you build with a <strong>Release</strong> configuration, instead of <strong>Debug</strong> configuration on visual studio.</li>
<li>Build the solution file from the “INSTALL” target (i.e. on Visual Studio, right click on “INSTALL” and select Build). This target will install the compiled binaries to the directory specified on the CMAKE_INSTALL_PREFIX option, which is “…/libsbml-vs2017-release-64”</li>
</ol>
<div class="align-center figure">
<img alt="_images/libsbml_install.JPG" src="_images/libsbml_install.JPG" />
</div>
<ol class="arabic simple" start="5">
<li>Once you complete building libSBML, copy the libsbml-vs2017-release-64 folder to “…Libstructural/dependencies” that you cloned/downloaded from github. This step is very important since the LibStructural CMakeLists configuration that generates the solution file looks for libSBML libraries inside a folder named “libsbml-vs2017-release-64”. Thus, you should have “libsbml-vs2017-release-64” and “third-party” folders under dependencies.</li>
</ol>
<div class="align-center figure">
<img alt="_images/libstructural_dependencies.JPG" src="_images/libstructural_dependencies.JPG" />
</div>
<p>The next step is building LibStructural.</p>
</div>
<div class="section" id="building-libstructural">
<h3>Building LibStructural<a class="headerlink" href="#building-libstructural" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Open CMake-gui.</li>
<li>Click on the <strong>Browse Source…</strong> button and navigate to the directory where you cloned/downloaded the LibStructural folder on your file system.</li>
<li>For the “Where to build the binaries” inquiry, use the same directory, but add /BUILD_x64 to it.</li>
<li>On the CMake-gui click on <strong>Configure</strong>. A prompt will ask you to create a “BUILD_x64” folder inside LibStructural. Click on <strong>Yes</strong>.</li>
<li>Next, it will ask you to specify a generator for the project and what compiler to use as shown below. For the generator, select “Visual Studio 15 2017 Win64”.</li>
<li>Select “Use default native compilers” option and click on <strong>Finish</strong>.</li>
</ol>
<div class="align-center figure">
<img alt="_images/cmake_2.JPG" src="_images/cmake_2.JPG" />
</div>
<ol class="arabic simple" start="7">
<li>If you wish to generate a python wrapper, you will have to checkmark the “ENABLE_PYTHON_WRAPPER” option.</li>
<li>Click on <strong>Configure</strong> again and an error will appear in red on the top, asking for the location of a SWIG executable file.</li>
<li>Click on the “SWIG_EXECUTABLE-NOTFOUND” and copy or navigate to the swig.exe directory. The swig.exe file will be in the <a class="reference external" href="http://www.swig.org/">SWIG</a> folder you downloaded.</li>
</ol>
<p>10. Click on <strong>Generate</strong>, and a LibStructural.sln file will be stored inside the BUILD_x64 folder.
<strong>NOTE:</strong> If you don’t want to generate a python wrapper, simply click <strong>Configure</strong> and then <strong>Generate</strong> after step 2.</p>
<div class="align-center figure">
<img alt="_images/cmake_SWIG_exe.JPG" src="_images/cmake_SWIG_exe.JPG" />
</div>
<ol class="arabic simple" start="11">
<li>To build the libraries, open the solution file “LibStructural.sln” located in BUILD_x64 folder using Visual Studio 2017.</li>
<li>On Visual Studio, set the build target to “Release” instead of “Debug” with “x64” configuration.</li>
<li>Right click on <strong>ALL_BUILD</strong> and click on Build.</li>
</ol>
<p>The built libraries and binaries will be stored in “…/BUILD_x64/LibStructural/Release” directory. If you chose to generate a python wrapper, it will be located inside INSTALL_x64/wrapper/structural.</p>
</div>
</div>
<div class="section" id="mac">
<h2>Mac<a class="headerlink" href="#mac" title="Permalink to this headline">¶</a></h2>
<p>For Mac, you will have to generate CLAPACK libraries in addition to libSBML. You need to generate MacOS compatible dependency libraries needed for building LibStructural. The CLAPACK source code is included in the LibStructural distribution that is cloned/downloaded from github. It is located inside the directory “…Libstructural/dependencies/third-party”. However, the libSBML source code is the one you should <a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/5.15.0/stable/libSBML-5.15.0-core-src.zip/download">download</a> from sourceforge.</p>
<div class="section" id="building-clapack">
<h3>Building CLAPACK<a class="headerlink" href="#building-clapack" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Open CMake-gui.</li>
<li>Click on the <strong>Browse Source…</strong> button and navigate to “…/dependencies/third-party/clapack/3.2.1” inside the Libstructural folder you cloned/downloaded.</li>
<li>For the “Where to build the binaries” inquiry, use the same directory, but add /BUILD_x64 to it as shown below.</li>
</ol>
<div class="align-center figure">
<img alt="_images/cmake_xcode_1.png" src="_images/cmake_xcode_1.png" />
</div>
<ol class="arabic simple" start="4">
<li>Click on <strong>Configure</strong>. CMake will ask for what generator and compiler to use.</li>
<li>Find and select “Xcode” from the dropdown menu.</li>
<li>Select “Specify native compilers” and click on <strong>Continue</strong>.</li>
<li>On the next window, under C++ box, click on the three dots and navigate to your Xcode application. It should be inside the “Applications” folder by default. Click on <strong>Done</strong>.</li>
<li>Click on <strong>Configure</strong> and then <a href="#id3"><span class="problematic" id="id4">**</span></a>Generate.</li>
</ol>
<div class="align-center figure">
<img alt="_images/cmake_xcode_2.png" src="_images/cmake_xcode_2.png" />
</div>
<div class="align-center figure">
<img alt="_images/cmake_xcode_compilers.png" src="_images/cmake_xcode_compilers.png" />
</div>
<ol class="arabic simple" start="9">
<li>Your Xcode project file will be generated inside “BUILD_x64” folder, or you can simply click on <strong>Open Project</strong> on CMake to automatically launch the project in Xcode.</li>
<li>Once Xcode finishes loading/indexing the project, go to <strong>Product -&gt; Scheme -&gt; Edit Scheme</strong> (keyboard shortcut: <strong>Command + Shift + &lt;</strong>). You will need to set the Build Configuration to “Release”.</li>
</ol>
<div class="align-center figure">
<img alt="_images/xcode_scheme.png" src="_images/xcode_scheme.png" />
</div>
<ol class="arabic simple" start="11">
<li>Click on <strong>Product -&gt; Build</strong> or the Play button.</li>
<li>The libraries will be stored inside BUILD_x64. There are three libraries you will need to locate:</li>
</ol>
<ul class="simple">
<li><strong>libblas.a</strong> which will be found in the directory “…/BUILD_x64/BLAS/SRC/Release”.</li>
<li><strong>libf2c.a</strong> which will be found in the directory “…/BUILD_x64/F2CLIBS/libf2c/Release”.</li>
<li><strong>liblapack.a</strong> inside “…/BUILD_x64/SRC/Release”.</li>
</ul>
<ol class="arabic simple" start="13">
<li>Copy these three libraries to “…/Libstructural/dependencies/third-party/clapack/3.2.1/LIB”.</li>
</ol>
</div>
<div class="section" id="id5">
<h3>Building libSBML<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>You will use the same steps as shown above with minor changes. Your source code is a <a class="reference external" href="https://sourceforge.net/projects/sbml/files/libsbml/5.15.0/stable/libSBML-5.15.0-core-src.zip/download">libSBML package</a> you downloaded from sourceforge.</p>
<ol class="arabic simple">
<li>On CMake, locate the folder to fill “Where is the source” inquiry (i.e. “…/Downloads/libsbml-5.15.0”). Then click on <strong>Browse Build…* and use the same folder directory, but add “/BUILD_x64” to it. Click on **Configure</strong></li>
<li>Before generating the project file, copy the directory inside “Where is the source code” inquiry to the CMAKE_INSTALL_PREFIX option and add “/libsbml-vs2017-release-64” to it.</li>
<li>Click on <strong>Configure</strong> then <strong>Generate</strong>.</li>
<li>Open the Xcode project generated and go to <strong>Product -&gt; Scheme</strong> to select “install”.</li>
<li>Go to <strong>Product -&gt; Scheme -&gt; Edit Scheme</strong> (keyboard shortcut: Command + Shift + &lt;). You will need to set the Build Configuration to “Release”.</li>
<li>Click on <strong>Product -&gt; Build</strong> or the Play button (keyboard shortcut: Command + B).</li>
<li>After building succeeds, a “libsbml-vs2017-release-64”” folder will be created inside “…/libsbml-5.15.0”. Copy this folder in to “…/Libstructural/dependencies” directory. This step is very important since the LibStructural CMakeLists configuration that generates the Xcode project file looks for libSBML libraries inside a folder named “libsbml-vs2017-release-64”.</li>
</ol>
</div>
<div class="section" id="id6">
<h3>Building LibStructural<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Open CMake-gui. For the “Where is the source code” inquiry, click on <strong>Browse Source</strong> and navigate to the directory where LibStructural is located at. For the “Where to build the binaries” inquiry, use the same directory, but add “/BUILD_x64” to it.</li>
<li>Follow steps 4-7 from the “Building CLAPACK” section.</li>
<li>If you chose to build a python wrapper, checkmark the “ENABLE_PYTHON_WRAPPER” value and configure again. If no errors are raised click on <strong>Generate</strong>. <strong>Note:</strong> You don’t need to download SWIG as it is included in with your Mac OS.</li>
<li>Follow step three from the “Building CLAPACK” section.</li>
<li>Once Xcode finishes loading/indexing the project, go to <strong>Product -&gt; Scheme -&gt; Edit Scheme</strong> (keyboard shortcut: Command + Shift + &lt;). You will need to set the Build Configuration to “Release”. If you chose to generate python wrapper from step three, go to <strong>Product -&gt; Scheme</strong> and select “install”. Otherwise, click on <strong>Product -&gt; Build</strong> or the Play button (keyboard shortcut: Command + B).</li>
<li>The built libraries and binaries will be stored in “…/BUILD_x64/LibStructural/Release” directory. If you chose to generate a python wrapper, the wrapper will be stored inside “…/INSTALL_x64/wrapper/structural”.</li>
</ol>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="libstruct_examples.html" class="btn btn-neutral float-right" title="Getting Started with LibStructural" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Herbert Sauro and Yosed Bedaso.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>